var jt=Object.defineProperty;var Dt=Object.getOwnPropertySymbols;var Ht=Object.prototype.hasOwnProperty,qt=Object.prototype.propertyIsEnumerable;var Et=(f,g,_)=>g in f?jt(f,g,{enumerable:!0,configurable:!0,writable:!0,value:_}):f[g]=_,We=(f,g)=>{for(var _ in g||(g={}))Ht.call(g,_)&&Et(f,_,g[_]);if(Dt)for(var _ of Dt(g))qt.call(g,_)&&Et(f,_,g[_]);return f};import{o as a,c as i,n as B,d as bt,a as H,w as z,b as xe,t as o,u as e,_ as Ee,i as E,e as P,f as Y,g as t,F as ee,r as de,h as p,j as _e,k as b,l as we,m as Ie,p as it,q as st,s as Ue,v as Ve,x as Ye,I as Jt,y as et,z as $t,A as fe,B as dt,C as re,D as Gt,E as gt,T as ze,G as lt,H as tt,J as yt,K as nt,L as mt,M as Q,N as Ge,O as ot,P as ke,Q as Qt,R as Xt,S as Yt,U as Zt,V as Kt,W as ea,X as ta,Y as aa,Z as ia,$ as sa,a0 as la,a1 as na,a2 as oa,a3 as ca,a4 as ra,a5 as ua,a6 as da,a7 as ma,a8 as pa,a9 as Lt,aa as _a,ab as va,ac as ct,ad as rt,ae as fa,af as ga,ag as ya}from"./stepForm.03e02646.js";const ha={name:"IconComponent"},kt=Object.assign(ha,{props:{icon:{type:String,required:!0}},setup(f){return(g,_)=>(a(),i("span",{class:B(`am-icon-${f.icon}`)},null,2))}});const ba={class:"am-cat__back-btn"},ka={name:"MainHeader"},wt=Object.assign(ka,{props:{btnString:{type:String,default:""},btnType:{type:String,default:"plain"},btnSize:{type:String,default:"mini"}},emits:["click"],setup(f,{emit:g}){const _=f;let F=bt({components:{IconComponent:kt},template:'<IconComponent icon="arrow-left"></IconComponent>'});function v(){g("click")}return(s,c)=>(a(),i("div",ba,[H(Ee,{prefix:e(F),category:"secondary",type:f.btnType,size:f.btnSize,onClick:v},{default:z(()=>[xe(o(e(_).btnString),1)]),_:1},8,["prefix","type","size"])]))}});const $a={class:"am-cat__sidemenu-item__wrapper"},wa=["onClick"],Sa={key:0,class:"am-cat__sidemenu-footer"},Ca={class:"am-cat__sidemenu-footer__text"},xa=["href"],Pa={name:"SideMenu"},Da=Object.assign(Pa,{props:{menuItems:{type:Array,required:!0},initSelection:{type:[String,Number]},identifier:{type:String,required:!0},nameIdentifier:{type:String,required:!0},footerString:{type:String,default:""},companyEmail:{type:String,default:""}},emits:["click"],setup(f,{emit:g}){const _=f;function F(c){g("click",c)}let v=E("amColors"),s=P(()=>({"--am-c-csm-text-op10":Y(v.value.colorSbText,.1),"--am-c-csm-primary-op10":Y(v.value.colorPrimary,.1),"--am-c-csm-text-op60":Y(v.value.colorSbText,.6),"--am-c-csm-text-op80":Y(v.value.colorSbText,.8)}));return(c,u)=>(a(),i("div",{class:"am-cat__sidemenu",style:_e(e(s))},[t("div",$a,[(a(!0),i(ee,null,de(f.menuItems,(l,V)=>(a(),i("div",{key:V,class:B(["am-cat__sidemenu-item",{"am-active":e(_).initSelection===l[e(_).identifier]}]),onClick:()=>F(l)},o(l[e(_).nameIdentifier]),11,wa))),128))]),e(_).companyEmail?(a(),i("div",Sa,[t("span",Ca,o(e(_).footerString),1),t("a",{class:"am-cat__sidemenu-footer__email",href:`mailto:${e(_).companyEmail}`},o(e(_).companyEmail),9,xa)])):p("",!0)],4))}});const Ea={name:"MainContent"},St=Object.assign(Ea,{props:{wrapperClass:{type:String,default:""},formClass:{type:String,default:""},headingClass:{type:String,default:""},contentClass:{type:String,default:""}},setup(f,{expose:g}){let _=b(null),F=b(0),v=b(null),s=b(0),c=b(null),u=b(0),l=b(null),V=b(null),y=b(0);window.addEventListener("resize",O);function O(){we(()=>{_.value&&(F.value=_.value.offsetWidth),v.value&&(s.value=v.value.offsetWidth),c.value&&(u.value=c.value.offsetWidth)})}Ie(()=>{we(()=>{if(c.value&&l.value){let h=c.value.offsetHeight-l.value.offsetHeight-2;y.value=h<=656?656:h}O()})}),g({catHeaderWidth:F,catFormWidth:u,catContainerWidth:s});let N=E("amColors"),L=P(()=>({"--am-h-cat-content":`${y.value}px`,"--am-c-scroll-op30":Y(N.value.colorPrimary,.3),"--am-c-scroll-op10":Y(N.value.colorPrimary,.1)}));return(h,n)=>(a(),i("div",{class:B(["am-cat__wrapper",f.wrapperClass])},[t("div",{ref_key:"catHeader",ref:_,class:"am-cat__header"},[it(h.$slots,"header")],512),t("div",{ref_key:"catContainer",ref:v,class:"am-cat__main"},[it(h.$slots,"side"),t("div",{ref_key:"catForm",ref:c,class:B(["am-cat__form",f.formClass]),style:_e(e(L))},[t("div",{ref_key:"catHeading",ref:l,class:B(["am-cat__heading",f.headingClass])},[it(h.$slots,"heading")],2),t("div",{ref_key:"catContent",ref:V,class:B(["am-cat__content",f.contentClass])},[it(h.$slots,"content")],2)],6)],512)],2))}}),Ia={name:"AmImagePlaceholder"},Qe=Object.assign(Ia,{props:{itemClass:{type:String,default:""},itemData:{type:Object,default:()=>{}},trimString:{type:Number,default:2}},setup(f){const g=f;function _(v){return v.pictureFullPath?{backgroundImage:`url(${v.pictureFullPath})`}:{backgroundColor:`${st.value[Math.floor(Math.random()*st.value.length)]}`}}function F(v){return v.pictureFullPath?"":("firstName"in v?`${v.firstName} ${v.lastName}`:v.name).split(" ").map(c=>c.charAt(0)).join("").toUpperCase().substring(0,g.trimString).replace(/[^\w\s]/g,"")}return(v,s)=>(a(),i("span",{class:B(e(g).itemClass),style:_e(We({},_(e(g).itemData)))},o(F(e(g).itemData)),7))}}),ht=Ue(window.wpAmeliaSettings),It=Ue(window.wpAmeliaLabels),Ae=Ue(window.ameliaShortcodeData?window.ameliaShortcodeData[0]:null);function ut(f,g,_=null,F=null){let v=[];return f&&f.serviceList.forEach(s=>{_?_ in g.entitiesRelations&&s.id in g.entitiesRelations[_]&&(F?g.entitiesRelations[_][s.id].find(c=>c===F):!0)&&s.status==="visible"&&s.show&&!v.filter(c=>c===s.id).length&&v.push(s.id):g.employees.forEach(c=>{c.id in g.entitiesRelations&&s.id in g.entitiesRelations[c.id]&&(F?g.entitiesRelations[c.id][s.id].find(u=>u===F):!0)&&s.status==="visible"&&s.show&&!v.filter(u=>u===s.id).length&&v.push(s.id)})}),v}function Tt(f,g){let _=[],F=[];f.employees.forEach(c=>{if(c.id in f.entitiesRelations&&g in f.entitiesRelations[c.id]){let u=c.serviceList.find(l=>l.id===g);_.push(u.maxCapacity),F.push(u.minCapacity)}});let v=F.reduce((c,u)=>u<c?u:c,F[0]),s=_.reduce((c,u)=>u>c?u:c,_[0]);return v!==s?`${v}/${s}`:v}function Bt(f){let g=Math.floor(f/3600),_=f/60%60;return(g?g+It.h+" ":"")+" "+(_?_+It.min:"")}function Xe(f,g){let _=[];f.employees.forEach(s=>{if(s.id in f.entitiesRelations&&g in f.entitiesRelations[s.id]){let c=s.serviceList.find(u=>u.id===g);_.push(c.price)}});let F=_.reduce((s,c)=>c<s?c:s,_[0]),v=_.reduce((s,c)=>c>s?c:s,_[0]);return F!==v?{price:`${Ve(F,!ht.payments.hideCurrencySymbolFrontend)} - ${Ve(v,!ht.payments.hideCurrencySymbolFrontend)}`,min:F,max:v}:{price:Ve(F,ht.payments.hideCurrencySymbolFrontend),min:F,max:v}}function Ce(f,g){let _=[];return f.employees.forEach(F=>{F.id in f.entitiesRelations&&g in f.entitiesRelations[F.id]&&f.entitiesRelations[F.id][g].length&&f.locations.forEach(v=>{f.entitiesRelations[F.id][g].some(s=>s===v.id)&&!_.find(s=>s===v.id)&&_.push(v)})}),_}function Ft(f,g){let _=[],F=Object.keys(f.entitiesRelations);return g.bookable.forEach(v=>{let s=[];F.forEach(c=>{f.entitiesRelations[c][v.service.id]&&!s.find(u=>u?u.id===parseInt(c):!0)&&s.push(f.employees.find(u=>u.id===parseInt(c)))}),s.length||_.push(!1)}),_.filter(v=>v===!1).length}function zt(f,g){let _=[],F=Object.keys(f.entitiesRelations),v=b(Ae&&Ae.employee?f.unfilteredEmployees.filter(s=>s.id===parseInt(Ae.employee)):f.unfilteredEmployees);return g.bookable.forEach(s=>{let c=[];s.providers.length?s.providers.forEach(u=>{s.locations.length?s.locations.forEach(l=>{v.value.find(V=>V.id===u.id)&&f.entitiesRelations[u.id][s.service.id]&&f.entitiesRelations[u.id][s.service.id].indexOf(l.id)!==-1&&!c.find(V=>V.id===u.id)&&c.push(v.value.find(V=>V.id===u.id))}):v.value.find(l=>l.id===u.id)&&!c.find(l=>l.id===u.id)&&c.push(v.value.find(l=>l.id===u.id))}):F.forEach(u=>{s.locations.length?s.locations.forEach(l=>{f.entitiesRelations[u][s.service.id]&&f.entitiesRelations[u][s.service.id].indexOf(l.id)!==-1&&v.value.find(V=>V.id===parseInt(u))&&!c.find(V=>V.id===parseInt(u))&&c.push(v.value.find(V=>V.id===parseInt(u)))}):f.entitiesRelations[u][s.service.id]&&v.value.find(l=>l.id===parseInt(u))&&!c.find(l=>l.id===parseInt(u))&&c.push(v.value.find(l=>l.id===parseInt(u)))}),_.push(!!c.length)}),!_.filter(s=>s===!1).length}function At(f,g){let _=[],F=Object.keys(f.entitiesRelations),v=b(Ae&&Ae.employee?f.unfilteredEmployees.filter(s=>s.id===parseInt(Ae.employee)):f.unfilteredEmployees);return g.bookable.forEach(s=>{s.providers.length?s.providers.forEach(c=>{s.locations.length?s.locations.forEach(u=>{v.value.find(l=>l.id===c.id)&&f.entitiesRelations[c.id][s.service.id].indexOf(u.id)!==-1&&!_.find(l=>l.id===c.id)&&_.push(v.value.find(l=>l.id===c.id))}):v.value.find(u=>u.id===c.id)&&!_.find(u=>u.id===c.id)&&_.push(v.value.find(u=>u.id===c.id))}):F.forEach(c=>{s.locations.length?s.locations.forEach(u=>{f.entitiesRelations[c][s.service.id]&&f.entitiesRelations[c][s.service.id].indexOf(u.id)!==-1&&v.value.find(l=>l.id===parseInt(c))&&!_.find(l=>l.id===parseInt(c))&&_.push(v.value.find(l=>l.id===parseInt(c)))}):f.entitiesRelations[c][s.service.id]&&v.value.find(u=>u.id===parseInt(c))&&!_.find(u=>u.id===parseInt(c))&&_.push(v.value.find(u=>u.id===parseInt(c)))})}),_}function Je(f,g){let _=[],F=Object.keys(f.entitiesRelations),v=b(Ae&&Ae.location?f.unfilteredLocations.filter(s=>s.id===parseInt(Ae.location)):f.unfilteredLocations);return g.bookable.forEach(s=>{s.locations.length?s.locations.forEach(c=>{v.value.find(u=>u.id===c.id)&&!_.find(u=>u.id===c.id)&&_.push(v.value.find(u=>u.id===c.id))}):F.forEach(c=>{v.value.forEach(u=>{c in f.entitiesRelations&&s.service.id in f.entitiesRelations[c]&&f.entitiesRelations[c][s.service.id].indexOf(u.id)!==-1&&v.value.find(l=>l.id===u.id)&&!_.find(l=>l.id===parseInt(u.id))&&_.push(v.value.find(l=>l.id===u.id))})})}),_}const La={class:"am-fcl__item-inner"},Ta={class:"am-fcl__item-heading"},Ba={class:"am-fcl__item-name"},Fa={class:"am-fcl__item-segments"},za={key:0,class:"am-fcl__item-segments__item"},Aa=t("span",{class:"am-fcl__item-segments__item-icon am-icon-service"},null,-1),Ra={class:"am-fcl__item-segments__item-count"},Ma={key:1,class:"am-fcl__item-segments__item"},Oa=t("span",{class:"am-fcl__item-segments__item-icon am-icon-shipment"},null,-1),Na={class:"am-fcl__item-segments__item-count"},Va={class:"am-fcl__item-footer"},Ua=["src"],Wa={class:"am-empty__heading"},ja={class:"am-empty__subheading"},Ha={class:"am-empty__text"},qa={key:0},Ja={href:"https://wpamelia.com/services-and-categories/"},Ga={key:1},Qa={key:2,href:"https://wpamelia.com/employees/"},Xa={name:"CategoriesList",key:"categoriesList"},Ya=Object.assign(Xa,{setup(f){const g=E("baseUrls");let _=b(null),F=b(0);window.addEventListener("resize",v);function v(){_.value&&(F.value=_.value.offsetWidth)}Ie(()=>{_.value&&(F.value=_.value.offsetWidth)});let s=P(()=>F.value<=500?"am-w100":F.value<=600?"am-w50":F.value<=768?"am-w33":""),{nextPage:c}=E("changingPageFunctions",{nextPage:()=>{}});const u=E("settings");let l=Ye();const V=E("shortcodeData");let y=E("amEntities"),O=E("customizedDataForm"),N=P(()=>O.value.categoriesList.options),L=E("availableCategories"),h=P(()=>{let ae=[];return y.value.categories.forEach(Z=>{let q=ut(Z,y.value);Z.packageList=[],y.value.packages.forEach(X=>{q.forEach(W=>{X.bookable.filter(oe=>oe.service.id===W).length&&!Z.packageList.filter(oe=>oe===X.id).length&&X.available&&X.status==="visible"&&!Ft(y.value,X)&&zt(y.value,X)&&Z.packageList.push(X.id)})}),Z.status==="visible"&&Z.serviceList.length&&!!q.length&&(V.value.show==="packages"?!!Z.packageList.length:!0)&&ae.push(Z)}),we(()=>{L.value=JSON.parse(JSON.stringify(ae))}),ae}),n=E("categorySelected");function w(ae){n.value=ae,l.commit("booking/setCategoryId",parseInt(ae)),et(l,{},"SelectCategory","appointment",null,null),c()}let le=P(()=>h.value.length===0);const me=E("labels"),C=E("localLanguage");let ue=P(()=>{let ae=Ue(We({},me));if(u.customizedData&&u.customizedData.cbf&&u.customizedData.cbf.categoriesList.translations){let Z=u.customizedData.cbf.categoriesList.translations;Object.keys(Z).forEach(q=>{Z[q][C.value]?ae[q]=Z[q][C.value]:Z[q].default&&(ae[q]=Z[q].default)})}return ae}),te=E("amColors"),ne=P(()=>({"--am-c-fcl-card-text-op80":Y(te.value.colorCardText,.8)}));return(ae,Z)=>e(le)?(a(),i("div",{key:1,ref_key:"ameliaContainer",ref:_,class:"am-empty"},[t("img",{src:e(g).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Ua),t("div",Wa,o(e(ue).oops),1),t("div",ja,o(e(V).show!=="packages"?e(ue).no_services_employees:e(ue).no_package_services),1),t("div",Ha,[e(V).show!=="packages"?(a(),i("span",qa,o(e(ue).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",Ja,o(e(ue).add_services_url)+"\xA0 ",1),e(V).show!=="packages"?(a(),i("span",Ga,o(e(ue).and)+"\xA0 ",1)):p("",!0),e(V).show!=="packages"?(a(),i("a",Qa,o(e(ue).add_employees_url),1)):p("",!0)])],512)):(a(),i("div",{key:0,ref_key:"ameliaContainer",ref:_,class:"am-fcl",style:_e(e(ne))},[(a(!0),i(ee,null,de(e(h),q=>(a(),i("div",{key:q.id,class:B(["am-fcl__item",e(s)])},[t("div",La,[t("div",{class:"am-fcl__item-content",style:_e(e(N).cardSideColor.visibility?{borderLeft:"7px solid",borderLeftColor:e(st)[Math.floor(Math.random()*e(st).length)]}:{})},[t("div",Ta,[t("div",Ba,o(q.name),1),t("div",Fa,[(!e(V).show||e(V).show==="services")&&e(N).services.visibility?(a(),i("div",za,[Aa,t("span",Ra,o(e(ut)(q,e(y)).length),1)])):p("",!0),(!e(V).show||e(V).show==="packages")&&q.packageList.length&&e(N).packages.visibility?(a(),i("div",Ma,[Oa,t("span",Na,o(q.packageList.length),1)])):p("",!0)])]),t("div",Va,[H(Ee,{class:"am-fcl__item-btn",size:"mini",category:"secondary",type:e(N).cardButton.buttonType,suffix:e(Jt),onClick:X=>w(q.id)},{default:z(()=>[xe(o(e(ue).view_all),1)]),_:2},1032,["type","suffix","onClick"])])],4)])],2))),128))],4))}});const Za={class:"am-fcil__filter-buttons"},Ka={class:"am-fcil__filter"},ei={class:"am-fcil__filter-item__btn-wrapper"},ti={class:"am-fcil__heading"},ai={key:0,class:"am-fcil__item-badge__wrapper"},ii={class:"am-fcil__item-badge am-package"},si=t("span",{class:"am-icon-shipment"},null,-1),li={class:"am-fcil__item-heading"},ni={class:"am-fcil__item-name"},oi={key:0,class:"am-fcil__item-cost"},ci={key:0,class:"am-fcil__item-discount"},ri={class:"am-fcil__item-price"},ui={class:"am-fcil__item-info"},di={key:0,class:"am-fcil__item-info__inner"},mi=t("span",{class:"am-icon-folder"},null,-1),pi={key:1,class:"am-fcil__item-info__inner"},_i=t("span",{class:"am-icon-clock"},null,-1),vi={key:0},fi={key:1},gi={key:2},yi={key:2,class:"am-fcil__item-info__inner"},hi=t("span",{class:"am-icon-user"},null,-1),bi=t("span",null,"1/1",-1),ki=[hi,bi],$i={key:3,class:"am-fcil__item-info__inner"},wi=t("span",{class:"am-icon-locations"},null,-1),Si={key:2,class:"am-fcil__item-services"},Ci={key:0,class:"am-fcil__item-badge__wrapper"},xi={class:"am-fcil__item-badge am-service"},Pi=t("span",{class:"am-icon-service"},null,-1),Di={class:"am-fcil__item-heading"},Ei={class:"am-fcil__item-name"},Ii={key:0,class:"am-fcil__item-cost"},Li={key:0,class:"am-fcil__item-price"},Ti={class:"am-fcil__item-info"},Bi={key:0,class:"am-fcil__item-info__inner"},Fi=t("span",{class:"am-icon-folder"},null,-1),zi={key:1,class:"am-fcil__item-info__inner"},Ai=t("span",{class:"am-icon-clock"},null,-1),Ri={key:2,class:"am-fcil__item-info__inner"},Mi=t("span",{class:"am-icon-user"},null,-1),Oi={key:3,class:"am-fcil__item-info__inner"},Ni=t("span",{class:"am-icon-locations"},null,-1),Vi={class:"am-fcil-employee__header"},Ui={class:"am-fcil-employee__heading"},Wi={class:"am-fcil-employee__heading-left"},ji={class:"am-fcil-employee__name"},Hi={key:0,class:"am-fcil-employee__heading-right"},qi={class:"am-fcil-employee__price"},Ji=["innerHTML"],Gi={key:1,ref:"ameliaContainer",class:"am-empty"},Qi=["src"],Xi={class:"am-empty__heading"},Yi={class:"am-empty__subheading"},Zi={class:"am-empty__text"},Ki={key:0},es={href:"https://wpamelia.com/services-and-categories/"},ts={key:1},as={key:2,href:"https://wpamelia.com/employees/"},is={name:"CategoryItemsList",key:"categoryItemsList"},ss=Object.assign(is,{setup(f){let{nextPage:g,previousPage:_}=E("changingPageFunctions",{nextPage:()=>{},previousPage:()=>{}});const F=E("baseUrls");let v=b(!1),s=b(),c=E("containerWidth"),u=E("customizedDataForm"),l=P(()=>u.value.categoryItemsList.options),V=P(()=>{let R=s.value&&s.value.catContainerWidth?s.value.catContainerWidth>768:!0;return!N.value.category&&l.value.sidebar.visibility&&R});const y=E("settings");let O=Ye();const N=E("shortcodeData");let L=E("amEntities");const h=E("labels"),n=E("localLanguage");let w=P(()=>{let R=Ue(We({},h));if(y.customizedData&&y.customizedData.cbf&&y.customizedData.cbf.categoryItemsList.translations){let S=y.customizedData.cbf.categoryItemsList.translations;Object.keys(S).forEach(r=>{S[r][n.value]?R[r]=S[r][n.value]:S[r].default&&(R[r]=S[r].default)})}return R}),le=b(""),me=bt({components:{IconComponent:kt},template:'<IconComponent icon="search"/>'}),C=b(!0),ue=bt({components:{IconComponent:kt},template:'<IconComponent icon="filter"/>'}),te=P(()=>s.value&&s.value.catHeaderWidth?s.value.catHeaderWidth:0);window.addEventListener("resize",ne);function ne(){we(()=>{te.value>480&&(C.value=!0)})}Ie(()=>{ne()});function ae(R){let S=[];return le.value.toLowerCase().split(" ").forEach(r=>{S.push(R.toLowerCase().includes(r))}),S.filter(r=>r===!1).length<=0}let Z=E("availableCategories"),q=E("categorySelected"),X=P(()=>ut(L.value.categories.find(R=>R.id===q.value),L.value,$e.value,ge.value)),W=P(()=>{let R=[];return L.value.packages.forEach(S=>{X.value.forEach(r=>{S.bookable.filter(se=>se.service.id===r).length&&!R.filter(se=>se.id===S.id).length&&S.available&&S.status==="visible"&&!Ft(L.value,S)&&zt(L.value,S)&&(le.value?ae(S.name):!0)&&R.push(S)})}),R}),oe=P(()=>{let R=[];return L.value.services.forEach(S=>{X.value.forEach(r=>{S.id===r&&(le.value?ae(S.name):!0)&&R.push(S)})}),R}),$e=b(null),ge=b(null),d=b(!0),K=b(!0);function ye(R){R==="all"&&(d.value=!0,K.value=!0),R==="packages"&&(d.value=!0,K.value=!1),R==="services"&&(d.value=!1,K.value=!0)}$t(()=>{N.value.show&&ye(N.value.show)});let pe=P(()=>{let R=N.value.employee,S=L.value.employees.length,r=N.value.location,se=L.value.locations.length,Pe=l.value.searchInput.visibility,Fe=l.value.filterEmployee.visibility&&!R&&S>1,Ne=l.value.filterLocation.visibility&&!r&&se>1,De=l.value.filterButtons.visibility&&N.value.show!=="packages"&&N.value.show!=="services"&&W.value.length!==0&&oe.value.length!==0,A={search:"am-w30",employee:"am-w20",location:"am-w20",buttons:"am-w30",category:"am-w100"};return te.value>992?!Pe||!De?(A.employee=!Pe&&!De?"am-w50":"am-w35",A.location=!Pe&&!De?"am-w50":"am-w35",A.search=!De&&!Ne&&!Fe?"am-w100":"am-w30",Fe||(A.location=!Pe&&!De?"am-w100":"am-w70"),Ne||(A.employee=!Pe&&!De?"am-w100":"am-w70")):(Fe||(A.location="am-w40"),Ne||(A.employee="am-w40"),!Fe&&!Ne&&(A.search="am-w70")):te.value>768||te.value>480?(A.search=De?"am-w50 am-tablet am-order1":"am-w100 am-tablet am-order1",A.buttons=Pe?"am-w50 am-tablet am-order2":"am-w100 tablet am-order2",A.employee=Ne?"am-w50 am-tablet am-order3":"am-w100 am-tablet am-order3",A.location=Fe?"am-w50 am-tablet am-order4":"am-w100 am-tablet am-order4",A.category="am-w100 am-tablet am-order5"):(A.employee="am-w100 am-mobile",A.location="am-w100 am-mobile",A.search="am-w100 am-mobile",A.buttons="am-w100 am-mobile",A.category="am-w100 am-mobile"),A}),M=P(()=>s.value&&s.value.catContainerWidth?s.value.catContainerWidth:0),Le=P(()=>{let R=oe.value.length>1?w.value.heading_services:w.value.heading_service,S=W.value.length?W.value.length>1?w.value.packages:w.value.package:"";if(!oe.value.length&&!W.value.length)return w.value.no_search_data;if(K.value&&(!d.value||!W.value.length))return`${w.value.available} - ${oe.value.length} ${R}`;if((!K.value||!oe.value.length)&&d.value)return`${w.value.available} - ${W.value.length} ${S}`;let r=W.value.length?"/":"";return`${w.value.available} - ${oe.value.length} ${R} ${r} ${W.value.length} ${S}`});Ie(()=>{we(()=>{v.value=W.value.length===0&&oe.value.length===0})});function he(R){q.value=R.id,O.commit("booking/setCategoryId",parseInt(R.id))}let Re=E("itemType");function Se(R){O.commit("booking/setServiceId",parseInt(R)),O.commit("booking/setBookableType","appointment"),O.commit("booking/setSelectedExtras",[]),Re.value="appointment",et(O,{},"SelectService","appointment",null,null),we(()=>{g()})}function J(R){O.commit("booking/setPackageId",R.id),O.commit("booking/setBookableType","package"),O.commit("booking/setMultipleAppointments",mt(0,R)),O.commit("booking/setMultipleAppointmentsIndex",0),Re.value="package",et(O,{},"SelectPackage","package",null,null),we(()=>{g()})}function j(){q.value=null,O.commit("booking/setCategoryId",null),_()}let $=b(!1),ie=b(""),Me=b([]),U=b({}),D=b(null);function k(){ie.value="",Me.value=[],U.value={},D.value=null}function T(R){Me.value=At(L.value,R),U.value=R,$.value=!0}function pt(R){let S=[];Object.keys(L.value.entitiesRelations).forEach(se=>{se in L.value.entitiesRelations&&R in L.value.entitiesRelations[se]&&L.value.employees.find(Pe=>Pe.id===parseInt(se))&&S.push(L.value.employees.find(Pe=>Pe.id===parseInt(se)))}),Me.value=S,ie.value="service",$.value=!0,D.value=R}function Ze(R){let S=L.value.services.find(se=>se.id===D.value).price,r=R.serviceList.find(se=>se.id===D.value).price;return r!==S?`${r-S>0?"+":"-"} ${Ve(r-S)}`:0}function _t(){ie.value==="service"?Se(D.value):J(U.value),k()}function je(R,S){let r="";return R>1?(S==="day"&&(r=w.value.expires_days),S==="week"&&(r=w.value.expires_weeks),S==="month"&&(r=w.value.expires_months)):(S==="day"&&(r=w.value.expires_day),S==="week"&&(r=w.value.expires_week),S==="month"&&(r=w.value.expires_month)),r}function vt(R,S){return Ce(R,S).length===1?Ce(R,S)[0].address?Ce(R,S)[0].address:Ce(R,S)[0].name:w.value.multiple_locations}let Oe=E("amFonts",b({fontFamily:"Amelia Roboto, sans-serif",fontUrl:"",customFontFamily:"",fontFormat:"",customFontSelected:!1})),be=E("amColors"),Ke=P(()=>({"--am-c-fcil-text-op-10":Y(be.value.colorSbText,.1),"--am-c-fcil-main-text-op15":Y(be.value.colorMainText,.15),"--am-c-fcil-card-text-op15":Y(be.value.colorCardText,.15),"--am-c-fcil-card-text-op80":Y(be.value.colorCardText,.8),"--am-c-fcil-primary-op20":Y(be.value.colorPrimary,.2),"--am-c-fcil-success-op20":Y(be.value.colorSuccess,.2),"--am-c-fcil-filter-text-op10":Y(be.value.colorInpText,.1),"--am-w-fcil-main":!N.value.category&&l.value.sidebar.visibility&&V.value?"calc(100% - 220px)":"100%","--am-w-fcil-card":s.value&&s.value.catFormWidth<580?"100%":"50%"})),at=P(()=>({"--am-f-fcil-employee-f":Oe.value.fontFamily,"--am-c-fcil-employee-bgr":be.value.colorMainBgr,"--am-c-fcil-employee-heading":be.value.colorMainHeadingText,"--am-c-fcil-employee-text":be.value.colorMainText,"--am-c-fcil-employee-text-op80":Y(be.value.colorMainText,.8),"--am-c-fcil-employee-text-op15":Y(be.value.colorMainText,.15),"--am-c-fcil-employee-primary":be.value.colorPrimary,"--am-c-fcil-employee-primary-op10":Y(be.value.colorPrimary,.1),"--am-c-inp-border":be.value.colorInpBorder,"--am-c-main-text":be.value.colorMainText}));return(R,S)=>e(v)?(a(),i("div",Gi,[t("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,Qi),t("div",Xi,o(e(w).oops),1),t("div",Yi,o(e(N).show!=="packages"?e(w).no_services_employees:e(w).no_package_services),1),t("div",Zi,[e(N).show!=="packages"?(a(),i("span",Ki,o(e(w).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",es,o(e(w).add_services_url)+"\xA0 ",1),e(N).show!=="packages"?(a(),i("span",ts,o(e(w).and)+"\xA0 ",1)):p("",!0),e(N).show!=="packages"?(a(),i("a",as,o(e(w).add_employees_url),1)):p("",!0)])],512)):(a(),fe(St,{key:0,ref_key:"contentRef",ref:s,"wrapper-class":`am-fcil ${e(c)<481?"am-mobile":""}`,"form-class":`am-fcil__main ${e(c)<481?"am-mobile":""}`,"content-class":`am-fcil__wrapper ${e(c)<481?"am-mobile":""}`,style:_e(e(Ke))},dt({header:z(()=>[t("span",Za,[e(N).category?p("",!0):(a(),fe(wt,{key:0,"btn-size":e(te)<481?"medium":"mini","btn-string":e(w).back_btn,"btn-type":e(l).backBtn.buttonType,onClick:j},null,8,["btn-size","btn-string","btn-type"])),e(te)<481?(a(),fe(Ee,{key:1,size:"medium",category:"secondary",type:e(l).filterMenuBtn.buttonType,"custom-class":"am-fcil__filter-buttons__menu","icon-only":!0,icon:e(ue),onClick:S[0]||(S[0]=()=>re(C)?C.value=!e(C):C=!e(C))},null,8,["type","icon"])):p("",!0)]),t("div",Ka,[e(l).searchInput.visibility?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(pe).search])},[H(Gt,{modelValue:e(le),"onUpdate:modelValue":S[1]||(S[1]=r=>re(le)?le.value=r:le=r),placeholder:e(w).filter_input,"icon-start":e(me)},null,8,["modelValue","placeholder","icon-start"])],2)):p("",!0),H(ze,{name:"slide-fade"},{default:z(()=>[!e(N).employee&&e(L).employees.length>1&&e(l).filterEmployee.visibility&&e(C)?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(pe).employee])},[H(gt,{modelValue:e($e),"onUpdate:modelValue":S[2]||(S[2]=r=>re($e)?$e.value=r:$e=r),clearable:"",filterable:"",placeholder:e(w).filter_employee,"fit-input-width":!0},{default:z(()=>[(a(!0),i(ee,null,de(e(L).employees,r=>(a(),fe(yt,{key:r.id,value:r.id,label:`${r.firstName} ${r.lastName}`},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),H(ze,{name:"slide-fade"},{default:z(()=>[!e(N).location&&e(L).locations.length>1&&e(l).filterLocation.visibility&&e(C)?(a(),i("div",{key:0,class:B(["am-fcil__filter-item",e(pe).location])},[H(gt,{modelValue:e(ge),"onUpdate:modelValue":S[3]||(S[3]=r=>re(ge)?ge.value=r:ge=r),clearable:"",filterable:"",placeholder:e(w).filter_location,"fit-input-width":!0},{default:z(()=>[(a(!0),i(ee,null,de(e(L).locations,r=>(a(),fe(yt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue","placeholder"])],2)):p("",!0)]),_:1}),H(ze,{name:"slide-fade"},{default:z(()=>[!e(N).category&&e(l).sidebar.visibility&&!e(V)&&e(C)?(a(),i("div",{key:0,class:B(["am-fcil__filter-item am-w100",e(pe).category])},[H(gt,{modelValue:e(q),"onUpdate:modelValue":S[4]||(S[4]=r=>re(q)?q.value=r:q=r),clearable:!1,filterable:!1,placeholder:"","fit-input-width":!0},{default:z(()=>[(a(!0),i(ee,null,de(e(Z),r=>(a(),fe(yt,{key:r.id,value:r.id,label:r.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])],2)):p("",!0)]),_:1}),!e(N).show&&e(l).filterButtons.visibility&&e(W).length!==0&&e(oe).length!==0?(a(),i("div",{key:1,class:B(["am-fcil__filter-item",e(pe).buttons])},[t("div",ei,[t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(d)&&e(K)}]),onClick:S[5]||(S[5]=r=>ye("all"))},[t("span",null,o(e(w).filter_all),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":e(d)&&!e(K)}]),onClick:S[6]||(S[6]=r=>ye("packages"))},[t("span",null,o(e(w).filter_packages),1)],2),t("div",{class:B(["am-fcil__filter-item__btn",{"am-active":!e(d)&&e(K)}]),onClick:S[7]||(S[7]=r=>ye("services"))},[t("span",null,o(e(w).filter_services),1)],2)])],2)):p("",!0)])]),heading:z(()=>[t("div",ti,o(e(Le)),1)]),content:z(()=>[e(d)?(a(!0),i(ee,{key:0},de(e(W),r=>(a(),i("div",{key:r.id,class:B(["am-fcil__item",{"am-mobile":e(M)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(M)<481}])},[e(l).packageBadge.visibility?(a(),i("div",ai,[t("div",ii,[si,t("span",null,o(e(w).package),1)])])):p("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:_e({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):p("",!0),t("div",li,[t("div",ni,o(r.name),1),e(l).packagePrice.visibility?(a(),i("div",oi,[r.discount?(a(),i("span",ci,o(`${e(w).save} ${r.discount}%`),1)):p("",!0),t("span",ri,o(r.price?e(Ve)(r.calculatedPrice?r.price:r.price-r.price/100*r.discount):e(w).free),1)])):p("",!0)]),t("div",ui,[e(l).packageCategory.visibility?(a(),i("div",di,[mi,t("span",null,o(e(Z).find(se=>se.id===e(q)).name),1)])):p("",!0),e(l).packageDuration.visibility?(a(),i("div",pi,[_i,r.endDate?(a(),i("span",vi,o(`${e(w).expires_at} ${r.endDate.split(" ")[0]}`),1)):r.durationCount?(a(),i("span",fi,o(`${e(w).expires_after} ${r.durationCount} ${je(r.durationCount,r.durationType)}`),1)):(a(),i("span",gi,o(e(w).without_expiration),1))])):p("",!0),e(l).packageCapacity.visibility?(a(),i("div",yi,ki)):p("",!0),e(Je)(e(L),r).length&&e(l).packageLocation.visibility?(a(),i("div",$i,[wi,t("span",null,o(e(Je)(e(L),r).length===1?e(Je)(e(L),r)[0].address?e(Je)(e(L),r)[0].address:e(Je)(e(L),r)[0].name:e(w).multiple_locations),1)])):p("",!0)]),e(l).packageServices.visibility?(a(),i("div",Si,[t("span",null,o(`${e(w).in_package}:`),1),(a(!0),i(ee,null,de(r.bookable,se=>(a(),i("span",{key:se.id},o(se.service.name),1))),128))])):p("",!0),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(M)<481},{"am-micro":e(M)<320}]])},[e(l).cardEmployeeBtn.visibility?(a(),fe(Ee,{key:0,class:B({"am-w100":e(M)<320}),size:"small",type:e(l).cardEmployeeBtn.buttonType,onClick:se=>T(r)},{default:z(()=>[xe(o(e(w).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),H(Ee,{class:B([{"am-w100":!e(l).cardEmployeeBtn.visibility},{"am-micro am-w100":e(M)<320}]),size:"small",type:e(l).cardContinueBtn.buttonType,onClick:se=>J(r)},{default:z(()=>[xe(o(e(w).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),e(K)?(a(!0),i(ee,{key:1},de(e(oe),r=>(a(),i("div",{key:r.id,class:B(["am-fcil__item",{"am-mobile":e(M)<481}])},[t("div",{class:B(["am-fcil__item-inner",{"am-mobile":e(M)<481}])},[e(l).serviceBadge.visibility?(a(),i("div",Ci,[t("div",xi,[Pi,t("span",null,o(e(w).heading_service),1)])])):p("",!0),r.pictureFullPath?(a(),i("div",{key:1,class:"am-fcil__item-hero",style:_e({backgroundImage:`url(${r.pictureFullPath})`})},null,4)):p("",!0),t("div",Di,[t("div",Ei,o(r.name),1),e(l).servicePrice.visibility?(a(),i("div",Ii,[e(Xe)(e(L),r.id).min||e(Xe)(e(L),r.id).max?(a(),i("span",Li,o(e(Xe)(e(L),r.id).price),1)):p("",!0)])):p("",!0)]),t("div",Ti,[e(l).serviceCategory.visibility?(a(),i("div",Bi,[Fi,t("span",null,o(e(Z).find(se=>se.id===e(q)).name),1)])):p("",!0),e(l).serviceDuration.visibility?(a(),i("div",zi,[Ai,t("span",null,o(e(Bt)(r.duration)),1)])):p("",!0),e(l).serviceCapacity.visibility?(a(),i("div",Ri,[Mi,t("span",null,o(e(Tt)(e(L),r.id)),1)])):p("",!0),e(Ce)(e(L),r.id).length&&e(l).serviceLocation.visibility?(a(),i("div",Oi,[Ni,t("span",null,o(vt(e(L),r.id)),1)])):p("",!0)]),t("div",{class:B(["am-fcil__item-footer",[{"am-mobile":e(M)<481},{"am-micro":e(M)<320}]])},[e(l).cardEmployeeBtn.visibility?(a(),fe(Ee,{key:0,class:B({"am-w100":e(M)<320}),size:"small",type:e(l).cardEmployeeBtn.buttonType,onClick:se=>pt(r.id)},{default:z(()=>[xe(o(e(w).view_employees),1)]),_:2},1032,["class","type","onClick"])):p("",!0),H(Ee,{class:B([{"am-w100":!e(l).cardEmployeeBtn.visibility},{"am-micro am-w100":e(M)<320}]),size:"small",type:e(l).cardContinueBtn.buttonType,onClick:se=>Se(r.id)},{default:z(()=>[xe(o(e(w).continue),1)]),_:2},1032,["class","type","onClick"])],2)],2)],2))),128)):p("",!0),H(tt,{modelValue:e($),"onUpdate:modelValue":S[9]||(S[9]=r=>re($)?$.value=r:$=r),"append-to-body":!0,"modal-class":"am-fcil-employee","destroy-on-close":!0,"lock-scroll":!0,"custom-styles":e(at),width:"648px",onClose:k},{title:z(()=>[t("div",Vi,o(e(w).employee_info),1)]),default:z(()=>[t("div",null,[H(lt,null,{default:z(()=>[(a(!0),i(ee,null,de(e(Me),(r,se)=>(a(),fe(nt,{key:se,side:""},{heading:z(()=>[t("div",Ui,[t("div",Wi,[H(Qe,{"item-class":"am-fcil-employee__img","item-data":r,"trim-string":2},null,8,["item-data"]),t("div",ji,o(`${r.firstName} ${r.lastName}`),1)]),e(ie)==="service"&&Ze(r)!==0?(a(),i("div",Hi,[t("div",qi,o(Ze(r)),1)])):p("",!0)])]),default:z(()=>[r.description?(a(),i("div",{key:0,class:B(["am-fcil-employee__text",{"ql-description":r.description.includes("<!-- Content -->")}]),innerHTML:r.description},null,10,Ji)):p("",!0)]),_:2},1024))),128))]),_:1})])]),footer:z(()=>[e(l).dialogEmployeeBtn.visibility?(a(),fe(Ee,{key:0,type:e(l).dialogEmployeeBtn.buttonType,category:"primary",onClick:S[8]||(S[8]=r=>_t())},{default:z(()=>[xe(o(e(ie)==="service"?e(w).book_service:e(w).book_package),1)]),_:1},8,["type"])):p("",!0)]),_:1},8,["modelValue","custom-styles"])]),_:2},[!e(N).category&&e(l).sidebar.visibility&&e(V)?{name:"side",fn:z(()=>[H(Da,{"menu-items":e(Z),"init-selection":e(q),identifier:"id","name-identifier":"name","footer-string":e(w).get_in_touch,"company-email":e(y).company.email,onClick:he},null,8,["menu-items","init-selection","footer-string","company-email"])])}:void 0]),1032,["wrapper-class","form-class","content-class","style"]))}});const ls=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),ns=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),os=["href"],cs={class:"am-fs-sb__step-wrapper"},rs={class:"am-fs-sb__step-inner"},us={class:"am-fs-sb__step-icon"},ds={key:0,class:"am-icon-check"},ms={key:0},ps={key:1},_s={key:1},vs={key:0,class:"am-fs-sb__step"},fs={class:"am-fs-sb__step-inner"},gs={class:"am-fs-sb__step-icon"},ys={key:0,class:"am-icon-check"},hs={key:0,class:"am-fs-sb__support"},bs=["href"],ks={key:1,class:"am-icon-email"},$s={key:0,class:"am-fs-sb__menu-text"},ws={key:2,class:"am-no-services"},Ss=["src"],Cs={href:"https://wpamelia.com/services-and-categories/"},xs={style:{"font-size":"14px"}},Ps={href:"https://wpamelia.com/employees/"},Ds={name:"CategoryBooking"},Rt=Object.assign(Ds,{setup(f){let g=b(null),_=b();Q("containerWidth",_);let F=b(!1);window.addEventListener("resize",v);function v(){g.value&&(_.value=g.value.offsetWidth)}Ie(()=>{we(()=>{g.value&&(_.value=g.value.offsetWidth)}),et(n,{containerWidth:_},"ContainerWidth","appointment",null,null)});const s=E("settings"),c=s.customizedData?s.customizedData.sbsNew:Ge.sbsNew;c&&Q("amCustomize",c);const u=b(s.customizedData?s.customizedData.fonts:Ge.fonts);Q("amFonts",u);let l=b(!1),V=b(""),y=E("bookingDialogWidth");ot(l,m=>{m?setTimeout(()=>{V.value="am-collapsed",setTimeout(()=>{y.value="592px"},200)},1e3):(V.value="",y.value="760px")}),Ie(()=>{c.sidebar.options.self.visibility||(y.value="520px")});let O=b(null),N=b(0);Ie(()=>{O.value&&setTimeout(()=>{N.value=O.value.offsetHeight},200)});let L=c.sidebar?c.sidebar.options.self.visibility:!0;const h=E("baseUrls"),n=Ye();let w=P(()=>({category:n.state.booking.appointment.categoryId?n.state.booking.appointment.categoryId:"",counter:n.state.entities.preselected.counter,employee:n.state.booking.appointment.providerId,hasApiCall:n.state.entities.preselected.hasApiCall,location:n.state.booking.appointment.locationId,service:n.state.booking.appointment.serviceId?n.state.booking.appointment.serviceId:"",package:n.state.booking.packageId,show:n.state.booking.appointment.type==="package"?"packages":"services",trigger:""}));n.commit("entities/setPreselected",w.value);let le=E("restoreFormData");const me=ke(Qt),C=ke(Xt),ue=ke(Yt),te=ke(Zt),ne=ke(Kt),ae=ke(ea),Z=ke(ta),q=ke(aa),X=ke(ia),W=ke(sa),oe=ke(la),$e=ke(na),ge=ke(oa),d=b([me,ae,W,X]);Q("stepsArray",d);const K=E("labels"),ye=E("localLanguage");let pe=P(()=>{let m=Ue(We({},K));return s.customizedData&&Object.keys(s.customizedData.sbsNew).forEach(x=>{if(x!=="colors"&&s.customizedData.sbsNew[x].translations){let I=s.customizedData.sbsNew[x].translations;Object.keys(I).forEach(G=>{I[G][ye.value]?m[G]=I[G][ye.value]:I[G].default&&(m[G]=I[G].default)})}}),m});Q("amLabels",pe);let M=P(()=>{let m={};if(s.customizedData){let x=s.customizedData.sbsNew[d.value[T.value].key]?s.customizedData.sbsNew[d.value[T.value].key].translations:null;s.customizedData&&x&&Object.keys(x).forEach(I=>{x[I][ye.value]?m[I]=x[I][ye.value]:x[I].default&&(m[I]=x[I].default)})}return Object.keys(m).length?m:K}),Le=P(()=>{let m="filled";return s.customizedData&&s.customizedData.sbsNew[d.value[T.value].key]&&(m=s.customizedData.sbsNew[d.value[T.value].key].options.primaryFooterButton.buttonType),m});Q("primFooterBtnType",Le),Q("primDescBtnType",Le);let he=P(()=>{let m="text";return s.customizedData&&s.customizedData.sbsNew[d.value[T.value].key]&&s.customizedData.sbsNew[d.value[T.value].key].options.secondaryFooterButton&&(m=s.customizedData.sbsNew[d.value[T.value].key].options.secondaryFooterButton.buttonType),m}),Re=P(()=>ca(n.getters["entities/getEmployeeServices"](n.getters["booking/getSelection"])));function Se(){let m=n.getters["entities/getPreselected"];if(m.show==="packages")m.package&&(d.value.splice(0,1),A.value.splice(0,1),$()),Be();else{k();let x=n.getters["entities/filteredEmployees"](n.getters["booking/getSelection"]).length<=1,I=!c.initStep.options.employee.visibility,G=n.getters["entities/filteredLocations"](n.getters["booking/getSelection"]).length<=1,ce=!c.initStep.options.location.visibility;m.service&&(m.employee||x||I)&&(m.location||G||ce)&&(Re.value.availability?(d.value.splice(0,1,ge),A.value.splice(0,1)):(d.value.splice(0,1),A.value.splice(0,1)),Be())}}function J(m,x,I){m.value.map((ce,He)=>x.includes(ce.name)?He:null).filter(ce=>ce!==null).reverse().forEach(ce=>{m.value.splice(ce,1)}),I.forEach(ce=>{m.value.indexOf(ce)===-1&&(n.getters["entities/getPreselected"].show==="packages"&&n.getters["entities/getPreselected"].package?m.value.splice(T.value,0,ce):m.value.splice(T.value+1,0,ce))})}Q("goToPackageStep",{goToPackageStep:j}),Q("removePackageStep",{removePackageStep:ie});function j(m){n.commit("booking/setPackageId",m.id),n.commit("booking/setBookableType","package"),n.commit("booking/setMultipleAppointments",mt(0,m)),n.commit("booking/setMultipleAppointmentsIndex",0);let x=m.bookable.reduce((ce,He)=>ce+He.maximumScheduled,0),I=[],G=[];d.value[0]!==C&&I.push("ExtrasStep"),d.value[0]!==ae&&I.push("DateTimeStep"),x>0?G=G.concat([q,Z,ue]):G.push(ue),J(d,I,G),J(A,I,[]),Be(),je()}function $(){let x=n.state.entities.packages.find(ce=>ce.id===n.getters["booking/getPackageId"]).bookable.reduce((ce,He)=>ce+He.maximumScheduled,0),I=[],G=[];d.value.find(ce=>ce.name==="ExtrasStep")&&I.push("ExtrasStep"),d.value.find(ce=>ce.name==="DateTimeStep")&&I.push("DateTimeStep"),x>0?G=G.concat([q,Z,ue]):G.push(ue),J(d,I,G),J(A,I,[]),Be(),je()}function ie(){let m=[];d.value[0]!==ae&&m.push(ae),d.value[0]!==C&&D.value&&D.value.length&&m.push(C),J(d,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],m),J(A,["PackageInfoStep","PackageAppointmentsStep","PackageAppointmentsListStep"],[]),Be()}Q("goToRecurringStep",{goToRecurringStep:Me}),Q("removeRecurringStep",{removeRecurringStep:U});function Me(){let m=0;for(let x=0;x<d.value.length;x++)if(d.value[x].name==="DateTimeStep"){m=x;break}d.value.splice(m+1,0,te),d.value.splice(m+2,0,ne),Be(),je()}function U(){for(let m=0;m<d.value.length;m++)d.value[m].name==="RecurringStep"||d.value[m].name;for(let m=d.value.length-1;m>=0;m--)(d.value[m].name==="RecurringStep"||d.value[m].name==="RecurringSummary")&&d.value.splice(m+1,1);Be()}let D=P(()=>{let m=n.getters["entities/getService"](n.getters["booking/getServiceId"]);return m?m.extras:[]});function k(){if(D.value.length&&!d.value.find(m=>m.name==="ExtrasStep")){let m=T.value;d.value.splice(m+1,0,C),Be()}A.value.find(m=>m.name==="ExtrasStep")&&!Object.keys(D.value).length&&(d.value.splice(1,1),A.value.splice(1,1))}Q("initDataChanges",{changeInitStepDataService:k});const T=b(0);Q("stepIndex",T);let pt=E("stepName",b(""));ot(T,(m,x)=>{m<A.value.length&&(A.value[x].selected=!1,A.value[m].selected=!0),m===A.value.length&&(A.value[x].selected=!1),pt.value=d.value[m].name});let Ze=b(!1);Q("goBackToPackageBooking",Ze);function _t(){Fe(!1),De.value||(d.value[T.value].name===ue.name&&(d.value.splice(T.value,1),A.value.splice(T.value,1)),d.value[T.value].name===te.name&&(d.value.splice(T.value,2),A.value.splice(T.value,2)),d.value[T.value].name===q.name&&(Ze.value=!0),T.value=T.value-1),R.value=!R.value}function je(){De.value||(A.value[T.value].finished=!0,T.value=T.value+1)}let vt=P(()=>n.getters["booking/getLoading"]),Oe=P(()=>n.getters["booking/getBooked"]),be=P(()=>n.getters["booking/getPaymentGateway"]),Ke=b(!1),at=b(!1),R=b(!1);function S(){Ke.value=!0}function r(){Ke.value=!1}function se(){R.value=!0}function Pe(){R.value=!1}function Fe(m){at.value=m}function Ne(){Oe.value&&(Oe.value.customerCabinetUrl?window.location.href=Oe.value.customerCabinetUrl:window.location.href=s.roles.customerCabinet.pageUrl)}Q("secondButton",{secondButtonClick:Ne});let De=b(!1);Q("changingStepsFunctions",{nextStep:je,previousStep:_t,footerButtonClick:S,footerButtonReset:r,footerBtnDisabledUpdater:Fe,headerButtonPreviousClick:se,headerButtonPreviousReset:Pe,footerBtnDisabled:at,footerButtonClicked:Ke,headerButtonPreviousClicked:R,navigateInsideStep:De});const A=b([]);Q("sidebarSteps",A);function Ct(m){A.value[T.value].stepSelectedData.filter(x=>x.reference===m.reference).length?A.value[T.value].stepSelectedData.forEach((x,I,G)=>{x.reference===m.reference&&m.value&&m.value!==x.value&&(x.value=m.value),x.reference===m.reference&&!m.value&&G.splice(I,1)}):m.value&&A.value[T.value].stepSelectedData.push(m),A.value[T.value].stepSelectedData.sort((x,I)=>x.position-I.position)}function Mt(){d.value.forEach((m,x)=>{if(m.name!=="CongratulationsStep"){let I=m.sidebarData.label,G={name:m.name,key:m.key,label:pe.value[I],labelKey:I,icon:m.sidebarData.icon,stepSelectedData:[],finished:!1,selected:x===T.value};A.value.splice(x,0,G)}})}$t(()=>{Mt(),Se()}),Ie(()=>{if(le.value){d.value.splice(0,d.value.length),A.value.splice(0,A.value.length),T.value=0,le.value.steps.forEach(x=>{switch(x){case"packageStep":d.value.push($e);break;case"bringingAnyone":d.value.push(ge);break;case"initStep":d.value.push(me);break;case"packageInfoStep":d.value.push(ue);break;case"packageAppointmentsStep":d.value.push(Z);break;case"packageAppointmentsListStep":d.value.push(q);break;case"extrasStep":d.value.push(C);break;case"dateTimeStep":d.value.push(ae);break;case"recurringStep":d.value.push(te);break;case"recurringSummary":d.value.push(ne);break;case"infoStep":d.value.push(W);break;case"paymentStep":d.value.push(oe);break;case"congratulations":d.value.push(X);break}let I=le.value.sidebar.find(G=>G.key===x);Be(),typeof I!="undefined"&&I.data&&I.data.forEach(G=>{Ct({reference:G.reference,position:G.position,value:G.value})}),T.value++}),n.commit("booking/setLoading",!1);let m=-1;le.value.result==="success"?m=d.value.length-1:(le.value.result==="error"||le.value.result==="canceled")&&(m=d.value.length-2);for(let x=0;x<=m;x++)d.value[x].finished=!0;for(let x=0;x<=m-1;x++)A.value[x].finished=!0,A.value[x].selected=!1;(le.value.result==="error"||le.value.result==="canceled")&&(A.value[m].finished=!1,A.value[m].selected=!0),T.value=m}});function Be(){d.value.forEach((m,x)=>{if(m.name!=="CongratulationsStep"&&!A.value.find(I=>I.labelKey===m.sidebarData.label)){let I=m.sidebarData.label,G={name:m.name,key:m.key,label:pe.value[I],labelKey:I,icon:m.sidebarData.icon,stepSelectedData:[],finished:!1,selected:x===T.value};A.value.splice(x,0,G)}})}Q("sidebarStepsFunctions",{sidebarDataCollector:Ct}),Q("addPaymentsStep",{addPaymentsStep:xt}),Q("removePaymentsStep",{removePaymentsStep:Pt});function xt(){d.value.splice(d.value.length-1,0,oe),Be()}function Pt(){let m=["PaymentStep"];J(d,m,[]),J(A,m,[])}function Ot(){if(n.getters["entities/getPreselected"].show==="packages"){let x=n.getters["booking/getPackageId"]?[n.getters["entities/getPackage"](n.getters["booking/getPackageId"])]:n.getters["entities/getPackages"];return x.length>0&&x.filter(I=>I.price>0).length===x.length}if(!n.getters["booking/getPackageId"]){let x=n.getters["booking/getServiceId"]?[n.getters["entities/getService"](n.getters["booking/getServiceId"])]:n.getters["entities/getServices"],I=0;for(let G of x){let ce=n.getters["booking/getEmployeeId"]?n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])?[n.getters["entities/getEmployee"](n.getters["booking/getEmployeeId"])]:[]:n.getters["entities/getEmployees"];if(ce.filter(qe=>qe.serviceList.find(Te=>Te.id===G.id&&(Te.price>0||Te.customPricing&&Te.customPricing.enabled&&(Object.values(Te.customPricing.durations).length===Object.values(Te.customPricing.durations).filter(ft=>ft.price>0).length||n.getters["booking/getDuration"]&&Te.customPricing.durations[n.getters["booking/getDuration"]].price>0)))).length===ce.filter(qe=>qe.serviceList.find(Te=>Te.id===G.id)).length)I++;else{let qe=n.getters["booking/getSelectedExtras"].length?n.getters["booking/getSelectedExtras"]:[];qe.length>0&&qe.reduce((Te,ft)=>Te+ft.price,0)>0&&I++}}return x.length>0&&I===x.length}return n.getters["entities/getPackage"](n.getters["booking/getPackageId"]).price>0}let Nt=P(()=>Ot());ra(()=>{!le.value&&!Nt.value?Pt():le.value||d.value.indexOf(oe)===-1&&xt()},{flush:"post"});let ve=P(()=>s.customizedData?s.customizedData.sbsNew.colors:Ge.sbsNew.colors);Q("amColors",ve);let Vt=P(()=>({"--am-c-primary":ve.value.colorPrimary,"--am-c-success":ve.value.colorSuccess,"--am-c-error":ve.value.colorError,"--am-c-warning":ve.value.colorWarning,"--am-c-main-bgr":ve.value.colorMainBgr,"--am-c-main-heading-text":ve.value.colorMainHeadingText,"--am-c-main-text":ve.value.colorMainText,"--am-c-sb-bgr":ve.value.colorSbBgr,"--am-c-sb-text":ve.value.colorSbText,"--am-c-inp-bgr":ve.value.colorInpBgr,"--am-c-inp-border":ve.value.colorInpBorder,"--am-c-inp-text":ve.value.colorInpText,"--am-c-inp-placeholder":ve.value.colorInpPlaceHolder,"--am-c-drop-bgr":ve.value.colorDropBgr,"--am-c-drop-text":ve.value.colorDropText,"--am-c-btn-prim":ve.value.colorBtnPrim,"--am-c-btn-prim-text":ve.value.colorBtnPrimText,"--am-c-btn-sec":ve.value.colorBtnSec,"--am-c-btn-sec-text":ve.value.colorBtnSecText,"--am-c-skeleton-op20":Y(ve.value.colorMainText,.2),"--am-c-skeleton-op60":Y(ve.value.colorMainText,.6),"--am-font-family":u.value.fontFamily,"--am-mw-main":L?l.value?"592px":"760px":"520px","--am-brad-main":L?"0 0.5rem 0.5rem 0":"0.5rem"}));function Ut(){let m=document.head||document.getElementsByTagName("head")[0];m.querySelector("#amCustomFont")&&m.querySelector("#amCustomFont").remove();let x=`@font-face {font-family: '${u.value.fontFamily}'; src: url(${u.value.fontUrl});}`,I=document.createElement("style");m.appendChild(I),I.setAttribute("type","text/css"),I.setAttribute("id","amCustomFont"),I.appendChild(document.createTextNode(x))}u.value.customFontSelected&&Ut();let Wt=P(()=>({colorInputBorderRadius:"6px"}));return Q("amDesignProperties",Wt),(m,x)=>(a(),i(ee,null,[u.value.customFontSelected?p("",!0):(a(),i(ee,{key:0},[ls,ns,t("link",{rel:"stylesheet",type:"text/css",href:`${e(h).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,os)],64)),e(F)?(a(),i("div",ws,[t("img",{src:e(h).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg",style:{"margin-top":"10px"}},null,8,Ss),t("h1",null,o(e(pe).oops),1),t("h3",null,o(e(pe).no_services_employees),1),t("p",null,o(e(pe).add_services_employees),1),t("a",Cs,o(e(pe).add_services_url)+"\xA0 ",1),t("span",xs,o(e(pe).and)+"\xA0",1),t("a",Ps,o(e(pe).add_employees_url),1)])):(a(),i("div",{key:1,id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:B(["am-fs__wrapper",{"am-collapsed":e(l)}]),style:_e(e(Vt))},[e(_)>560&&e(L)?(a(),fe(ma,{key:0,class:B(["am-fs-sb",{"am-collapsed":e(l)}]),style:_e({width:e(l)?"72px":"240px",paddingBottom:`${e(N)+16}px`})},{"step-list":z(()=>[t("div",cs,[d.value[T.value]!==e(X)||!e(s).general.addToCalendar||e(Oe)&&e(Oe).data.length===0?(a(!0),i(ee,{key:0},de(A.value,I=>(a(),i("div",{key:I.key,class:"am-fs-sb__step"},[t("div",rs,[t("div",us,[t("span",{class:B(`am-icon-${I.icon}`)},null,2)]),H(ze,{name:"fade"},{default:z(()=>[e(l)?p("",!0):(a(),i("p",{key:0,class:B(["am-fs-sb__step-heading",e(V)])},o(I.label),3))]),_:2},1024),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":I.selected},e(V)]])},[H(ze,{name:"fade"},{default:z(()=>[I.finished?(a(),i("span",ds)):p("",!0)]),_:2},1024)],2)]),H(ua,{tag:"span",name:"fade",appear:"",class:B(["am-fs-sb__step-selection__wrapper",{"am-fs-sb__step-selection-packages":I.key===e(Z).key&&I.stepSelectedData.length>3}])},{default:z(()=>[e(l)?p("",!0):(a(!0),i(ee,{key:0},de(I.stepSelectedData,(G,ce)=>(a(),i("p",{key:G.position,class:"am-fs-sb__step-selection"},[I.key!==e(Z).key||ce<3?(a(),i("span",ms,o(G.value),1)):(a(),i("span",ps,o(e(pe).plus_more),1))]))),128))]),_:2},1032,["class"])]))),128)):(a(),i("div",_s,[H(ze,{name:"fade"},{default:z(()=>[e(l)?p("",!0):(a(),fe(da,{key:0}))]),_:1}),e(l)?(a(),i("div",vs,[t("div",fs,[t("div",gs,[t("span",{class:B(`am-icon-${d.value[T.value].sidebarData.icon}`)},null,2)]),t("div",{class:B(["am-fs-sb__step-checker",[{"am-fs-sb__step-checker-selected":d.value[T.value].sidebarData.selected},e(V)]])},[H(ze,{name:"fade"},{default:z(()=>[d.value[T.value].sidebarData.finished?(a(),i("span",ys)):p("",!0)]),_:1})],2)])])):p("",!0)]))])]),"support-info":z(()=>[t("div",{ref_key:"sidebarFooterRef",ref:O,class:"am-fs-sb__footer"},[e(s).company.email?(a(),i("div",hs,[H(ze,{name:"fade"},{default:z(()=>[e(l)?p("",!0):(a(),i("div",{key:0,class:B(["am-fs-sb__support-heading",e(V)])},o(e(pe).get_in_touch),3))]),_:1}),t("a",{class:"am-fs-sb__support-email",href:`mailto:${e(s).company.email}`},[e(l)?(a(),i("span",ks)):(a(),i(ee,{key:0},[xe(o(e(s).company.email),1)],64))],8,bs)])):p("",!0),t("div",{class:B(["am-fs-sb__menu",e(V)]),onClick:x[0]||(x[0]=I=>re(l)?l.value=!e(l):l=!e(l))},[H(ze,{name:"fade"},{default:z(()=>[e(l)?p("",!0):(a(),i("span",$s,o(e(pe).collapse_menu),1))]),_:1}),t("span",{class:B(`am-icon-arrow-circle-${e(l)?"left":"right"}`)},null,2)],2)],512)]),_:1},8,["class","style"])):p("",!0),H(va,null,dt({step:z(()=>[(a(),fe(Lt(d.value[T.value]),{"global-class":"am-fs__main-content"}))]),footer:z(()=>[H(e(_a),{"second-button-show":d.value[T.value]===e(X)&&e(s).roles.customerCabinet.enabled&&e(s).roles.customerCabinet.pageUrl!==null,booked:e(Oe),loading:e(vt),"payment-gateway":e(be),"customized-labels":e(M),"primary-footer-button-type":e(Le),"secondary-footer-button-type":e(he)},null,8,["second-button-show","booked","loading","payment-gateway","customized-labels","primary-footer-button-type","secondary-footer-button-type"])]),_:2},[d.value[T.value]!==e(X)?{name:"header",fn:z(()=>[H(pa,{"sidebar-visible":e(L)},null,8,["sidebar-visible"])])}:void 0]),1024)],6))],64))}});const Es={class:"am-fcis__header-text"},Is={class:"am-fcis__header-name"},Ls={key:0,class:"am-fcis__badge am-service"},Ts=t("span",{class:"am-icon-service"},null,-1),Bs={class:"am-fcis__header-action"},Fs={key:0,class:"am-fcis__header-price"},zs={class:"am-fcis__header-btn"},As={key:0,class:"am-fcis__header-bottom"},Rs={class:"am-fcis__mini-info"},Ms={key:0,class:"am-fcis__mini-info__inner"},Os=t("span",{class:"am-icon-folder"},null,-1),Ns={key:1,class:"am-fcis__mini-info__inner"},Vs=t("span",{class:"am-icon-clock"},null,-1),Us={key:2,class:"am-fcis__mini-info__inner"},Ws=t("span",{class:"am-icon-user"},null,-1),js={key:3,class:"am-fcis__mini-info__inner"},Hs=t("span",{class:"am-icon-locations"},null,-1),qs={key:0,class:"am-fcis__gallery"},Js={key:0,class:"am-fcis__gallery-thumb__wrapper"},Gs={class:"am-gd__display-wrapper"},Qs={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},Xs=["src","alt"],Ys={class:"am-gd__selection"},Zs={class:"am-gd__thumb-wrapper"},Ks=["onClick"],el={key:1,class:"am-fcis__info"},tl={class:"am-fcis__info-tab__wrapper"},al={class:"am-fcis__info-content__wrapper"},il={key:0,class:"am-fcis__info-content"},sl=["innerHTML"],ll={key:1,class:"am-fcis__info-content"},nl={class:"am-fcis__info-employee__hero"},ol={class:"am-fcis__info-employee__heading"},cl={class:"am-fcis__info-employee__name"},rl={key:0,class:"am-fcis__info-employee__price"},ul=["innerHTML"],dl={key:2,class:"am-fcis__include-wrapper"},ml={class:"am-fcis__include-heading"},pl={class:"am-fcis__include-heading__text"},_l=["onClick"],vl={class:"am-fcis__include-hero"},fl={key:0,class:"am-fcis__include-cost"},gl={key:0,class:"am-fcis__include-discount"},yl={class:"am-fcis__include-price"},hl={class:"am-fcis__include-info"},bl={key:0,class:"am-fcis__include-info__inner"},kl=t("span",{class:"am-icon-folder"},null,-1),$l={key:1,class:"am-fcis__include-info__inner"},wl=t("span",{class:"am-icon-clock"},null,-1),Sl={key:0},Cl={key:1},xl={key:2},Pl={key:2,class:"am-fcis__include-info__inner"},Dl=t("span",{class:"am-icon-user"},null,-1),El=t("span",null,"1/1",-1),Il=[Dl,El],Ll={key:3,class:"am-fcis__include-info__inner"},Tl=t("span",{class:"am-icon-locations"},null,-1),Bl={key:4,class:"am-fcis__include-info__inner am-fcis__include-info__services"},Fl={key:1,ref:"ameliaContainer",class:"am-empty"},zl=["src"],Al={class:"am-empty__heading"},Rl={class:"am-empty__subheading"},Ml={class:"am-empty__text"},Ol={key:0},Nl={href:"https://wpamelia.com/services-and-categories/"},Vl={key:1},Ul={key:2,href:"https://wpamelia.com/employees/"},Wl={name:"CategoryService"},jl=Object.assign(Wl,{setup(f){let{previousPage:g}=E("changingPageFunctions",{previousPage:()=>{}}),_=P(()=>N.getters["entities/getReady"]);const F=E("baseUrls");let v=b(),s=E("containerWidth");const c=E("settings");let u=E("amFonts");const l=E("labels"),V=E("localLanguage");let y=P(()=>{let U=Ue(We({},l));if(c.customizedData&&c.customizedData.cbf&&c.customizedData.cbf.categoryService.translations){let D=c.customizedData.cbf.categoryService.translations;Object.keys(D).forEach(k=>{D[k][V.value]?U[k]=D[k][V.value]:D[k].default&&(U[k]=D[k].default)})}return U}),O=b(0),N=Ye(),L=E("amEntities"),h=E("customizedDataForm"),n=P(()=>h.value.categoryService.options),w=E("itemType"),le=E("categorySelected"),me=P(()=>L.value.categories.find(U=>U.id===le.value)),C=P(()=>{let U=L.value.services.find(D=>D.id===N.getters["booking/getServiceId"]);return U||{}});function ue(U,D){return Ce(U,D).length===1?Ce(U,D)[0].address?Ce(U,D)[0].address:Ce(U,D)[0].name:y.value.multiple_locations}let te=b("description"),ne=P(()=>{let U=[];return Object.keys(L.value.entitiesRelations).forEach(k=>{L.value.entitiesRelations[k][C.value.id]&&L.value.employees.find(T=>T.id===parseInt(k))&&U.push(L.value.employees.find(T=>T.id===parseInt(k)))}),U});function ae(U){let D=U.serviceList.find(k=>k.id===C.value.id).price;return D-C.value.price!==0?`${D-C.value.price>0?"+":"-"} ${Ve(D-C.value.price)}`:""}Ie(()=>{n.value.serviceDescription.visibility||(te.value="employees"),C.value.description||(te.value="employees")});let Z=P(()=>{let U=C.value.gallery.length?JSON.parse(JSON.stringify(C.value.gallery)):[];return C.value.gallery.length===1?[]:(U.shift(),U.length>2&&U.splice(2,U.length-2),U)}),q=P(()=>{let U=[];return L.value.packages.forEach(D=>{D.bookable.filter(k=>k.service.id===C.value.id).length&&!U.filter(k=>k.id===D.id).length&&D.available&&D.status==="visible"&&U.push(D)}),U}),X=b(!1),W=P(()=>{let U=[...q.value];return X.value?U:U.slice(0,2)}),oe=P(()=>N.getters["entities/filteredLocations"](N.getters["booking/getSelection"]));function $e(){w.value="",we(()=>{g()})}let ge=b(!1),d=b("760px");Q("bookingDialogWidth",d);function K(){ne.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ne.value[0].id)),Ce(L.value,C.value.id).length===1&&N.commit("booking/setLocationId",parseInt(Ce(L.value,C.value.id)[0].id)),N.commit("booking/setBookableType","appointment"),ge.value=!0}E("restoreFormData").value&&K();function pe(U){N.commit("booking/setPackageId",U.id),N.commit("booking/setBookableType","package"),N.commit("booking/setMultipleAppointments",mt(0,U)),N.commit("booking/setMultipleAppointmentsIndex",0),ne.value.length===1&&N.commit("booking/setEmployeeId",parseInt(ne.value[0].id)),Ce(L.value,C.value.id).length===1&&N.commit("booking/setLocationId",parseInt(Ce(L.value,C.value.id)[0].id)),we(()=>{ge.value=!0})}const M=E("shortcodeData");let Le=b("");Q("stepName",Le);function he(){let U=N.getters["entities/getBookableFromBookableEntities"](N.getters["booking/getSelection"]),D=U.settings?JSON.parse(U.settings):c;"general"in D&&"redirectUrlAfterAppointment"in D.general&&D.general.redirectUrlAfterAppointment?window.location.href=D.general.redirectUrlAfterAppointment:c.general.redirectUrlAfterAppointment?window.location.href=c.general.redirectUrlAfterAppointment:window.location.reload()}function Re(){if(Le.value&&Le.value==="CongratulationsStep")he();else{let U=P(()=>({category:M.value.category,counter:M.value.counter,employee:M.value.employee,hasApiCall:M.value.hasApiCall,location:M.value.location,service:M.value.service,show:M.value.show,trigger:M.value.trigger}));N.commit("entities/setPreselected",U.value)}d.value="760px"}let Se=b(!1);function J(U,D){let k="";return U>1?(D==="day"&&(k=y.value.expires_days),D==="week"&&(k=y.value.expires_weeks),D==="month"&&(k=y.value.expires_months)):(D==="day"&&(k=y.value.expires_day),D==="week"&&(k=y.value.expires_week),D==="month"&&(k=y.value.expires_month)),k}let j=P(()=>Object.keys(C.value).length===0||ne.value.length===0),$=E("amColors"),ie=P(()=>({"--am-c-fcis-success-op20":Y($.value.colorSuccess,.2),"--am-c-fcis-primary-op20":Y($.value.colorPrimary,.2),"--am-c-fcis-text-op80":Y($.value.colorMainText,.8),"--am-c-fcis-text-op03":Y($.value.colorMainText,.03),"--am-c-fcis-btn-op50":Y($.value.colorBtnSec,.5)})),Me=P(()=>({"--am-c-fcis-bgr":$.value.colorMainBgr,"--am-c-fcis-text":$.value.colorMainText,"--am-c-fcis-success":$.value.colorSuccess,"--am-c-fcis-primary":$.value.colorPrimary,"--am-c-scroll-op30":Y($.value.colorPrimary,.3),"--am-c-scroll-op10":Y($.value.colorPrimary,.1),"--am-font-family":u.fontFamily}));return(U,D)=>e(_)?(a(),i(ee,{key:0},[e(j)?p("",!0):(a(),fe(St,{key:0,ref_key:"contentRef",ref:v,"wrapper-class":"am-fcis","form-class":"am-fcis__form","heading-class":"am-fcis__header","content-class":"am-fcis__content",style:_e(e(ie))},dt({heading:z(()=>[t("div",{class:B([[{"am-tablet":e(s)<=678},{"am-mobile":e(s)<450}],"am-fcis__header-top"])},[t("div",Es,[t("span",Is,o(e(C).name),1),e(n).serviceBadge.visibility?(a(),i("div",Ls,[Ts,t("span",null,o(e(y).heading_service),1)])):p("",!0)]),t("div",Bs,[e(n).servicePrice.visibility?(a(),i("span",Fs,o(e(Xe)(e(L),e(C).id).min||e(Xe)(e(L),e(C).id).max?e(Xe)(e(L),e(C).id).price:e(y).free),1)):p("",!0),t("span",zs,[H(Ee,{type:e(n).bookingBtn.buttonType,onClick:K},{default:z(()=>[xe(o(e(y).book_now),1)]),_:1},8,["type"])])])],2),e(n).serviceCategory.visibility||e(n).serviceDuration.visibility||e(n).serviceCapacity.visibility||e(n).serviceLocation.visibility?(a(),i("div",As,[t("div",Rs,[e(n).serviceCategory.visibility?(a(),i("div",Ms,[Os,t("span",null,o(e(me).name),1)])):p("",!0),e(n).serviceDuration.visibility?(a(),i("div",Ns,[Vs,t("span",null,o(e(Bt)(e(C).duration)),1)])):p("",!0),e(n).serviceCapacity.visibility?(a(),i("div",Us,[Ws,t("span",null,o(e(Tt)(e(L),e(C).id)),1)])):p("",!0),e(Ce)(e(L),e(C).id).length&&e(n).serviceLocation.visibility?(a(),i("div",js,[Hs,t("span",null,o(ue(e(L),e(C).id)),1)])):p("",!0)])])):p("",!0)]),content:z(()=>[e(C).gallery.length?(a(),i("div",qs,[t("div",{class:B(["am-fcis__gallery-hero",[{w100:e(C).gallery.length===1},{"am-mobile w100":e(s)<678}]]),style:_e({backgroundImage:`url(${e(C).gallery[0].pictureFullPath})`})},null,6),e(Z).length&&e(s)>677?(a(),i("div",Js,[(a(!0),i(ee,null,de(e(Z),(k,T)=>(a(),i("div",{key:T,class:B(["am-fcis__gallery-thumb",{"am-one-thumb":e(Z).length===1}]),style:_e({backgroundImage:`url(${k.pictureFullPath})`})},null,6))),128))])):p("",!0),H(Ee,{"custom-class":`am-fcis__gallery-btn${e(s)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:D[0]||(D[0]=()=>re(Se)?Se.value=!0:Se=!0)},{default:z(()=>[xe(o(e(y).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),H(tt,{modelValue:e(Se),"onUpdate:modelValue":D[4]||(D[4]=k=>re(Se)?Se.value=k:Se=k),"modal-class":"amelia-v2-booking amelia-v2-sgd","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:z(()=>[t("div",{class:"am-gd",style:_e(e(Me))},[t("div",Gs,[t("div",Qs,[t("span",{class:"am-icon-arrow-left",onClick:D[1]||(D[1]=()=>re(O)?O.value=e(O)<=0?e(C).gallery.length-1:e(O)-1:O=e(O)<=0?e(C).gallery.length-1:e(O)-1)}),t("span",{class:"am-icon-arrow-right",onClick:D[2]||(D[2]=()=>re(O)?O.value=e(C).gallery.length-1===e(O)?0:e(O)+1:O=e(C).gallery.length-1===e(O)?0:e(O)+1)})]),(a(!0),i(ee,null,de(e(C).gallery,(k,T)=>(a(),i("div",{key:T,class:"am-gd__display",style:_e({display:T===e(O)?"flex":"none"}),onClick:D[3]||(D[3]=()=>re(O)?O.value=e(C).gallery.length-1===e(O)?0:e(O)+1:O=e(C).gallery.length-1===e(O)?0:e(O)+1)},[t("img",{src:k.pictureFullPath,alt:T},null,8,Xs)],4))),128))]),t("div",Ys,o(`${e(O)+1}/${e(C).gallery.length}`),1),t("div",Zs,[(a(!0),i(ee,null,de(e(C).gallery,(k,T)=>(a(),i("div",{key:T,class:B(["am-gd__thumb",{"am-active":T===e(O)}]),style:_e({backgroundImage:`url(${k.pictureFullPath})`}),onClick:()=>re(O)?O.value=T:O=T},null,14,Ks))),128))])],4)]),_:1},8,["modelValue"]),e(n).serviceDescription.visibility&&e(C).description||e(n).serviceEmployees.visibility?(a(),i("div",el,[t("div",tl,[e(C).description&&e(n).serviceDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcis__info-tab",{"am-active":e(te)==="description"}]),onClick:D[5]||(D[5]=()=>re(te)?te.value="description":te="description")},o(e(y).about_service),3)):p("",!0),e(n).serviceEmployees.visibility?(a(),i("div",{key:1,class:B([{"am-active":e(te)==="employees"},"am-fcis__info-tab"]),onClick:D[6]||(D[6]=()=>re(te)?te.value="employees":te="employees")},o(e(y).tab_employees),3)):p("",!0)]),t("div",al,[e(C).description&&e(n).serviceDescription.visibility?ct((a(),i("div",il,[t("div",{class:B(["am-fcis__info-service__desc",{"ql-description":e(C).description.includes("<!-- Content -->")}]),innerHTML:e(C).description},null,10,sl)],512)),[[rt,e(te)==="description"]]):p("",!0),e(n).serviceEmployees.visibility?ct((a(),i("div",ll,[H(lt,null,{default:z(()=>[(a(!0),i(ee,null,de(e(ne),k=>(a(),fe(nt,{key:k.id,side:""},{heading:z(()=>[t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__info-employee"])},[t("div",nl,[H(Qe,{"item-class":"am-fcis__info-employee__img","item-data":k,"trim-string":3},null,8,["item-data"]),t("div",ol,[t("div",cl,o(k.firstName)+" "+o(k.lastName),1),ae(k)&&e(n).serviceEmployeePrice.visibility?(a(),i("div",rl,o(ae(k)),1)):p("",!0)])])],2)]),default:z(()=>[k.description?(a(),i("div",{key:0,class:B(["am-fcis__info-employee__description",{"ql-description":k.description.includes("<!-- Content -->")}]),innerHTML:k.description},null,10,ul)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[rt,e(te)==="employees"]]):p("",!0)])])):p("",!0),e(q).length&&e(M).show!=="services"&&e(n).servicePackages.visibility?(a(),i("div",dl,[t("div",ml,[t("span",pl,o(e(y).service_available_in_package),1),e(q).length>2?(a(),i("span",{key:0,class:"am-fcis__include-heading__btn",onClick:D[7]||(D[7]=()=>re(X)?X.value=!e(X):X=!e(X))},[e(X)?(a(),i(ee,{key:1},[xe(o(e(y).less_packages),1)],64)):(a(),i(ee,{key:0},[xe(o(e(y).more_packages),1)],64))])):p("",!0)]),(a(!0),i(ee,null,de(e(W),k=>(a(),i("div",{key:k.id,class:"am-fcis__include",onClick:T=>pe(k)},[t("div",vl,[e(s)>450?(a(),fe(Qe,{key:0,"item-class":"am-fcis__include-img","item-data":k,"trim-string":3},null,8,["item-data"])):p("",!0),t("div",{class:B([{"am-mobile":e(s)<451},"am-fcis__include-text"])},[t("div",{class:B(["am-fcis__include-header",{"am-mobile":e(s)<600}])},[t("div",{class:B(["am-fcis__include-name",{"am-mobile":e(s)<600}])},o(k.name),3),e(n).packagePrice.visibility?(a(),i("div",fl,[k.discount?(a(),i("span",gl,o(`${e(y).save} ${k.discount}%`),1)):p("",!0),t("span",yl,o(k.price?e(Ve)(k.calculatedPrice?k.price:k.price-k.price/100*k.discount):e(y).free),1)])):p("",!0)],2),t("div",hl,[e(n).packageCategory.visibility?(a(),i("div",bl,[kl,t("span",null,o(e(me).name),1)])):p("",!0),e(n).packageDuration.visibility?(a(),i("div",$l,[wl,k.endDate?(a(),i("span",Sl,o(`${e(y).expires_at} ${k.endDate.split(" ")[0]}`),1)):k.durationCount?(a(),i("span",Cl,o(`${e(y).expires_after} ${k.durationCount} ${J(k.durationCount,k.durationType)}`),1)):(a(),i("span",xl,o(e(y).without_expiration),1))])):p("",!0),e(n).packageCapacity.visibility?(a(),i("div",Pl,Il)):p("",!0),e(n).packageLocation.visibility&&e(oe).length?(a(),i("div",Ll,[Tl,t("span",null,o(e(oe).length===1?e(oe)[0].address?e(oe)[0].address:e(oe)[0].name:e(y).multiple_locations),1)])):p("",!0),e(n).packageServices.visibility?(a(),i("div",Bl,[t("span",null,o(`${e(y).in_package}:`),1),(a(!0),i(ee,null,de(k.bookable,T=>(a(),i("span",{key:T.id},o(T.service.name),1))),128))])):p("",!0)])],2)])],8,_l))),128))])):p("",!0),H(tt,{modelValue:e(ge),"onUpdate:modelValue":D[8]||(D[8]=k=>re(ge)?ge.value=k:ge=k),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(d),onClosed:Re},{default:z(()=>[H(Rt)]),_:1},8,["modelValue","width"])]),_:2},[e(M).service?void 0:{name:"header",fn:z(()=>[H(wt,{"btn-string":e(y).back_btn,"btn-type":e(n).backBtn.buttonType,onClick:$e},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(j)?(a(),i("div",Fl,[t("img",{src:e(F).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,zl),t("div",Al,o(e(y).oops),1),t("div",Rl,o(e(M).show!=="packages"?e(y).no_services_employees:e(y).no_package_services),1),t("div",Ml,[e(M).show!=="packages"?(a(),i("span",Ol,o(e(y).add_services_employees)+"\xA0 ",1)):p("",!0),t("a",Nl,o(e(y).add_services_url)+"\xA0 ",1),e(M).show!=="packages"?(a(),i("span",Vl,o(e(y).and)+"\xA0 ",1)):p("",!0),e(M).show!=="packages"?(a(),i("a",Ul,o(e(y).add_employees_url),1)):p("",!0)])],512)):p("",!0)],64)):p("",!0)}});const Hl={class:"am-fcip__header-text"},ql={class:"am-fcip__header-name"},Jl={key:0,class:"am-fcip__badge am-package"},Gl=t("span",{class:"am-icon-shipment"},null,-1),Ql={class:"am-fcip__header-action"},Xl={key:0,class:"am-fcip__header-discount"},Yl={key:1,class:"am-fcip__header-price"},Zl={class:"am-fcip__header-btn"},Kl={key:0,class:"am-fcip__header-bottom"},en={class:"am-fcip__mini-info"},tn={key:0,class:"am-fcip__mini-info__inner"},an=t("span",{class:"am-icon-folder"},null,-1),sn={key:1,class:"am-fcip__mini-info__inner"},ln=t("span",{class:"am-icon-clock"},null,-1),nn={key:0},on={key:1},cn={key:2},rn={key:2,class:"am-fcip__mini-info__inner"},un=t("span",{class:"am-icon-user"},null,-1),dn=t("span",null,"1/1",-1),mn=[un,dn],pn={key:3,class:"am-fcip__mini-info__inner"},_n=t("span",{class:"am-icon-locations"},null,-1),vn={key:0,class:"am-fcip__gallery"},fn={key:0,class:"am-fcip__gallery-thumb__wrapper"},gn=t("span",{class:"am-icon-gallery"},null,-1),yn={class:"am-gd__display-wrapper"},hn={class:"am-gd__arrows",style:{display:"flex","justify-content":"space-between"}},bn=["src","alt"],kn={class:"am-gd__selection"},$n={class:"am-gd__thumb-wrapper"},wn=["onClick"],Sn={key:1,class:"am-fcip__info"},Cn={class:"am-fcip__info-tab__wrapper"},xn={class:"am-fcip__info-content__wrapper"},Pn={key:0,class:"am-fcip__info-content"},Dn=["innerHTML"],En={key:1,class:"am-fcip__info-content"},In={class:"am-fcip__info-employee"},Ln={class:"am-fcip__info-employee__hero"},Tn={class:"am-fcip__info-employee__name"},Bn=["innerHTML"],Fn={key:2,class:"am-fcip__include-wrapper"},zn={class:"am-fcip__include-heading"},An={class:"am-fcip__include-heading__text"},Rn={class:"am-fcip__include-service"},Mn={class:"am-fcip__include-service__info"},On={key:0},Nn=["innerHTML"],Vn={class:"am-fcip__include-footer"},Un={class:"am-fcip__include-footer__text"},Wn={key:1,ref:"ameliaContainer",class:"am-empty"},jn=["src"],Hn={class:"am-empty__heading"},qn={class:"am-empty__subheading"},Jn={class:"am-empty__text"},Gn={href:"https://wpamelia.com/services-and-categories/"},Qn={name:"CategoryPackage"},Xn=Object.assign(Qn,{setup(f){let{previousPage:g}=E("changingPageFunctions",{previousPage:()=>{}}),_=b(),F=E("containerWidth");const v=E("settings"),s=E("baseUrls");let c=Ye();const u=E("shortcodeData");let l=E("amEntities"),V=E("customizedDataForm"),y=P(()=>V.value.categoryPackage.options),O=E("itemType"),N=E("categorySelected"),L=P(()=>l.value.categories.find(J=>J.id===N.value)),h=P(()=>l.value.packages.find(J=>J.id===c.getters["booking/getPackageId"])),n=b(0),w=b("description"),le=P(()=>At(l.value,h.value)),me=P(()=>Je(l.value,h.value)),C=b(u.value.employee?l.value.unfilteredEmployees.filter(J=>J.id===parseInt(u.value.employee)):l.value.unfilteredEmployees);function ue(J){let j=[];return J.providers.length?J.providers.forEach($=>{C.value.find(ie=>ie.id===parseInt($.id))&&j.push(C.value.find(ie=>ie.id===parseInt($.id)))}):j=C.value.filter($=>$.serviceList.find(ie=>ie.id===J.service.id)),j}Ie(()=>{y.value.packageDescription.visibility||(w.value="employees"),h.value.description||(w.value="employees")});let te=b(!1);$t(()=>{te.value=c.getters["entities/getEmployees"].length===0||le.value.length===0});let ne=b(!1),ae=P(()=>{let J=h.value.gallery.length?JSON.parse(JSON.stringify(h.value.gallery)):[];return h.value.gallery.length===1?[]:(J.shift(),J.length>2&&J.splice(2,J.length-2),J)});function Z(){O.value="",we(()=>{g()})}let q=b(!1),X=b("760px");Q("bookingDialogWidth",X);function W(){c.commit("booking/setMultipleAppointments",mt(0,h.value)),c.commit("booking/setMultipleAppointmentsIndex",0),c.commit("booking/setBookableType","package"),we(()=>{q.value=!0})}E("restoreFormData").value&&W();let $e=b("");Q("stepName",$e);function ge(){let J=c.getters["entities/getBookableFromBookableEntities"](c.getters["booking/getSelection"]),j=J.settings?JSON.parse(J.settings):v;"general"in j&&"redirectUrlAfterAppointment"in j.general&&j.general.redirectUrlAfterAppointment?window.location.href=j.general.redirectUrlAfterAppointment:v.general.redirectUrlAfterAppointment?window.location.href=v.general.redirectUrlAfterAppointment:window.location.reload()}function d(){if($e.value&&$e.value==="CongratulationsStep")ge();else{let J=P(()=>({category:u.value.category,counter:u.value.counter,employee:u.value.employee,hasApiCall:u.value.hasApiCall,location:u.value.location,service:u.value.service,show:u.value.show,trigger:u.value.trigger}));c.commit("entities/setPreselected",J.value)}X.value="760px"}let K=E("amFonts");const ye=E("labels"),pe=E("localLanguage");let M=P(()=>{let J=Ue(We({},ye));if(v.customizedData&&v.customizedData.cbf&&v.customizedData.cbf.categoryPackage.translations){let j=v.customizedData.cbf.categoryPackage.translations;Object.keys(j).forEach($=>{j[$][pe.value]?J[$]=j[$][pe.value]:j[$].default&&(J[$]=j[$].default)})}return J});function Le(J,j){let $="";return J>1?(j==="day"&&($=M.value.expires_days),j==="week"&&($=M.value.expires_weeks),j==="month"&&($=M.value.expires_months)):(j==="day"&&($=M.value.expires_day),j==="week"&&($=M.value.expires_week),j==="month"&&($=M.value.expires_month)),$}let he=E("amColors"),Re=P(()=>({"--am-c-fcip-success-op20":Y(he.value.colorSuccess,.2),"--am-c-fcip-primary-op20":Y(he.value.colorPrimary,.2),"--am-c-fcip-text-op80":Y(he.value.colorMainText,.8),"--am-c-fcip-text-op60":Y(he.value.colorMainText,.6),"--am-c-fcip-text-op03":Y(he.value.colorMainText,.03),"--am-c-fcip-btn-op50":Y(he.value.colorBtnSec,.5)})),Se=P(()=>({"--am-c-fcip-bgr":he.value.colorMainBgr,"--am-c-fcip-text":he.value.colorMainText,"--am-c-fcip-success":he.value.colorSuccess,"--am-c-fcip-primary":he.value.colorPrimary,"--am-c-scroll-op30":Y(he.value.colorPrimary,.3),"--am-c-scroll-op10":Y(he.value.colorPrimary,.1),"--am-font-family":K.fontFamily}));return(J,j)=>(a(),i(ee,null,[e(te)?p("",!0):(a(),fe(St,{key:0,ref_key:"contentRef",ref:_,"wrapper-class":"am-fcip","form-class":"am-fcip__form","heading-class":"am-fcip__header","content-class":"am-fcip__content",style:_e(e(Re))},dt({heading:z(()=>[t("div",{class:B([[{"am-tablet":e(F)<=678},{"am-mobile":e(F)<450}],"am-fcip__header-top"])},[t("div",Hl,[t("span",ql,[t("span",null,o(e(h).name),1)]),e(y).packageBadge.visibility?(a(),i("div",Jl,[Gl,t("span",null,o(e(M).package),1)])):p("",!0)]),t("div",Ql,[e(h).discount&&e(y).packagePrice.visibility?(a(),i("span",Xl,o(`${e(M).save} ${e(h).discount}%`),1)):p("",!0),e(y).packagePrice.visibility?(a(),i("span",Yl,o(e(h).price?e(Ve)(e(h).calculatedPrice?e(h).price:e(h).price-e(h).price/100*e(h).discount):e(M).free),1)):p("",!0),t("span",Zl,[H(Ee,{type:e(y).bookingBtn.buttonType,onClick:W},{default:z(()=>[xe(o(e(M).book_now),1)]),_:1},8,["type"])])])],2),e(y).packageCategory.visibility&&!e(u).package||e(y).packageDuration.visibility||e(y).packageCapacity.visibility||e(y).packageLocation.visibility&&e(me).length?(a(),i("div",Kl,[t("div",en,[!e(u).package&&e(y).packageBadge.visibility?(a(),i("div",tn,[an,t("span",null,o(e(L).name),1)])):p("",!0),e(y).packageDuration.visibility?(a(),i("div",sn,[ln,e(h).endDate?(a(),i("span",nn,o(`${e(M).expires_at} ${e(h).endDate.split(" ")[0]}`),1)):e(h).durationCount?(a(),i("span",on,o(`${e(M).expires_after} ${e(h).durationCount} ${Le(e(h).durationCount,e(h).durationType)}`),1)):(a(),i("span",cn,o(e(M).without_expiration),1))])):p("",!0),e(y).packageCapacity.visibility?(a(),i("div",rn,mn)):p("",!0),e(me).length&&e(y).packageLocation.visibility?(a(),i("div",pn,[_n,t("span",null,o(e(me).length===1?e(me)[0].address?e(me)[0].address:e(me)[0].name:e(M).multiple_locations),1)])):p("",!0)])])):p("",!0)]),content:z(()=>[e(h).gallery.length?(a(),i("div",vn,[t("div",{class:B(["am-fcip__gallery-hero",[{w100:e(h).gallery.length===1},{"am-mobile w100":e(F)<678}]]),style:_e({backgroundImage:`url(${e(h).gallery[0].pictureFullPath})`})},null,6),e(ae).length&&e(F)>677?(a(),i("div",fn,[(a(!0),i(ee,null,de(e(ae),($,ie)=>(a(),i("div",{key:ie,class:B(["am-fcip__gallery-thumb",{"am-one-thumb":e(ae).length===1}]),style:_e({backgroundImage:`url(${$.pictureFullPath})`})},null,6))),128))])):p("",!0),H(Ee,{"custom-class":`am-fcip__gallery-btn${e(F)<678?" am-mobile":""}`,category:"secondary",type:"filled",onClick:j[0]||(j[0]=()=>re(ne)?ne.value=!0:ne=!0)},{default:z(()=>[gn,t("span",null,o(e(M).view_all_photos),1)]),_:1},8,["custom-class"])])):p("",!0),H(tt,{modelValue:e(ne),"onUpdate:modelValue":j[4]||(j[4]=$=>re(ne)?ne.value=$:ne=$),"modal-class":"amelia-v2-booking amelia-v2-gdp","append-to-body":!0,center:!0,"lock-scroll":!1,width:"768px"},{default:z(()=>[t("div",{class:"am-gd",style:_e(e(Se))},[t("div",yn,[t("div",hn,[t("span",{class:"am-icon-arrow-left",onClick:j[1]||(j[1]=()=>re(n)?n.value=e(n)<=0?e(h).gallery.length-1:e(n)-1:n=e(n)<=0?e(h).gallery.length-1:e(n)-1)}),t("span",{class:"am-icon-arrow-right",onClick:j[2]||(j[2]=()=>re(n)?n.value=e(h).gallery.length-1===e(n)?0:e(n)+1:n=e(h).gallery.length-1===e(n)?0:e(n)+1)})]),(a(!0),i(ee,null,de(e(h).gallery,($,ie)=>(a(),i("div",{key:ie,class:"am-gd__display",style:_e({display:ie===e(n)?"flex":"none"}),onClick:j[3]||(j[3]=()=>re(n)?n.value=e(h).gallery.length-1===e(n)?0:e(n)+1:n=e(h).gallery.length-1===e(n)?0:e(n)+1)},[t("img",{src:$.pictureFullPath,alt:ie},null,8,bn)],4))),128))]),t("div",kn,o(`${e(n)+1}/${e(h).gallery.length}`),1),t("div",$n,[(a(!0),i(ee,null,de(e(h).gallery,($,ie)=>(a(),i("div",{key:ie,class:B(["am-gd__thumb",{"am-active":ie===e(n)}]),style:_e({backgroundImage:`url(${$.pictureFullPath})`}),onClick:()=>re(n)?n.value=ie:n=ie},null,14,wn))),128))])],4)]),_:1},8,["modelValue"]),e(y).packageDescription.visibility&&e(h).description||e(y).packageEmployees.visibility?(a(),i("div",Sn,[t("div",Cn,[e(h).description&&e(y).packageDescription.visibility?(a(),i("div",{key:0,class:B(["am-fcip__info-tab",{"am-active":e(w)==="description"}]),onClick:j[5]||(j[5]=()=>re(w)?w.value="description":w="description")},o(e(M).about_package),3)):p("",!0),e(y).packageEmployees.visibility?(a(),i("div",{key:1,class:B([{"am-active":e(w)==="employees"},"am-fcip__info-tab"]),onClick:j[6]||(j[6]=()=>re(w)?w.value="employees":w="employees")},o(e(M).tab_employees),3)):p("",!0)]),t("div",xn,[e(h).description&&e(y).packageDescription.visibility?ct((a(),i("div",Pn,[t("div",{class:B(["am-fcip__info-service__desc",{"ql-description":e(h).description.includes("<!-- Content -->")}]),innerHTML:e(h).description},null,10,Dn)],512)),[[rt,e(w)==="description"]]):p("",!0),e(y).packageEmployees.visibility?ct((a(),i("div",En,[H(lt,null,{default:z(()=>[(a(!0),i(ee,null,de(e(le),$=>(a(),fe(nt,{key:$.id,side:""},{heading:z(()=>[t("div",In,[t("div",Ln,[H(Qe,{"item-class":"am-fcip__info-employee__img","item-data":$,"trim-string":3},null,8,["item-data"]),t("div",Tn,o($.firstName)+" "+o($.lastName),1)])])]),default:z(()=>[$.description?(a(),i("div",{key:0,class:B(["am-fcip__info-employee__description",{"ql-description":$.description.includes("<!-- Content -->")}]),innerHTML:$.description},null,10,Bn)):p("",!0)]),_:2},1024))),128))]),_:1})],512)),[[rt,e(w)==="employees"]]):p("",!0)])])):p("",!0),e(y).packageServices.visibility?(a(),i("div",Fn,[t("div",zn,[t("span",An,o(`${e(M).package_includes}:`),1)]),H(lt,null,{default:z(()=>[(a(!0),i(ee,null,de(e(h).bookable,$=>(a(),fe(nt,{key:$.id,side:!0},{heading:z(()=>[t("div",Rn,[H(Qe,{"item-class":"am-fcip__include-service__img","item-data":$.service},null,8,["item-data"]),xe(" "+o($.service.name+(e(h).sharedCapacity?"":" x"+$.quantity)),1)])]),default:z(()=>[t("div",Mn,[t("span",null,o(`${e(M).tab_employees}:`),1),(a(!0),i(ee,null,de(ue($).slice(0,6),ie=>(a(),fe(Qe,{key:ie.id,"item-class":"am-fcip__include-service__info-name","item-data":ie,"trim-string":3},null,8,["item-data"]))),128)),ue($).length>6?(a(),i("span",On," + "+o(ue($).length-6),1)):p("",!0),$.service.description?(a(),i("div",{key:1,class:B(["am-fcip__include-service__info-description",{"ql-description":$.service.description.includes("<!-- Content -->")}]),innerHTML:$.service.description},null,10,Nn)):p("",!0)])]),_:2},1024))),128))]),_:1}),t("div",Vn,[t("span",Un,o(e(M).package_book_service),1)])])):p("",!0),H(tt,{modelValue:e(q),"onUpdate:modelValue":j[7]||(j[7]=$=>re(q)?q.value=$:q=$),"append-to-body":!0,"modal-class":"amelia-v2-booking amelia-v2-booking-dialog","destroy-on-close":!0,center:!0,"lock-scroll":!1,"close-on-click-modal":!1,"close-on-press-escape":!1,width:e(X),onClosed:d},{default:z(()=>[H(Rt)]),_:1},8,["modelValue","width"])]),_:2},[e(u).package?void 0:{name:"header",fn:z(()=>[H(wt,{"btn-string":e(M).back_btn,"btn-type":e(y).backBtn.buttonType,onClick:Z},null,8,["btn-string","btn-type"])])}]),1032,["style"])),e(te)?(a(),i("div",Wn,[t("img",{src:e(s).wpAmeliaPluginURL+"/v3/src/assets/img/am-empty-booking.svg"},null,8,jn),t("div",Hn,o(e(M).oops),1),t("div",qn,o(e(M).no_package_services),1),t("div",Jn,[t("a",Gn,o(e(M).add_services_url)+"\xA0 ",1)])],512)):p("",!0)],64))}});const Yn={name:"CatalogSkeleton"},Zn=Object.assign(Yn,{setup(f){let g=b(null),_=b(0);window.addEventListener("resize",F);function F(){g.value&&(_.value=g.value.offsetWidth)}Ie(()=>{g.value&&(_.value=g.value.offsetWidth)});let v=P(()=>_.value<=500?"am-w100":_.value<=600?"am-w50":_.value<=768?"am-w33":"");return(s,c)=>{const u=fa,l=ga;return a(),i("div",{ref_key:"amSkeletonContainer",ref:g,class:"am-skeleton-catalog__wrapper"},[H(l,{animated:"",class:"am-skeleton-catalog"},{template:z(()=>[(a(!0),i(ee,null,de(new Array(8),V=>(a(),i("div",{key:V,class:B(["am-skeleton-catalog__item",e(v)])},[H(u,{class:"am-skeleton-catalog__item-inner",variant:"text"})],2))),128))]),_:1})],512)}}});const Kn=t("link",{rel:"preconnect",href:"https://fonts.googleapis.com"},null,-1),eo=t("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:""},null,-1),to=["href"],ao={name:"CatalogFormWrapper"},io=Object.assign(ao,{setup(f){let g=b(null);const _=E("baseUrls");let F=b(0);Q("containerWidth",F),window.addEventListener("resize",v);function v(){g.value&&(F.value=g.value.offsetWidth)}Ie(()=>{document.getElementById("amelia-v2-booking-"+u.value.counter).classList.add("amelia-v2-booking-"+u.value.counter+"-loaded"),et(l,{},"ViewContent","appointment",null,null),v()});let s=b(!1);const c=E("settings"),u=E("shortcodeData"),l=Ye();l.commit("entities/setPreselected",u.value),l.dispatch("entities/getEntities",{types:["employees","categories","locations","packages","entitiesRelations","customFields"],loadEntities:window.ameliaShortcodeData.filter(d=>!d.hasApiCall).length===window.ameliaShortcodeData.length?!0:u.value.hasApiCall});let V=P(()=>l.state.entities);Q("amEntities",V);const y=ke(Ya),O=ke(ss),N=ke(jl),L=ke(Xn);let h=b([y,O]),n=b(0),w=b(null);Q("categorySelected",w);let le=b([]);Q("availableCategories",le);let me=b("");Q("itemType",me),ot(me,()=>{me.value==="appointment"&&h.value.push(N),me.value==="package"&&h.value.push(L),me.value===""&&h.value.forEach((d,K)=>{d.name==="CategoryService"&&C(h.value,K),d.name==="CategoryPackage"&&C(h.value,K)})});function C(d,K){d.splice(K,1)}function ue(){n.value=n.value+1,g.value.scrollIntoView({behavior:"smooth",block:"start"})}function te(){n.value=n.value-1}Q("changingPageFunctions",{nextPage:ue,previousPage:te});let ne=P(()=>l.getters["entities/getReady"]);function ae(){let d=l.getters["entities/getPreselected"];if(u.value.category&&(l.commit("booking/setCategoryId",parseInt(d.category)),w.value=parseInt(d.category),le.value=JSON.parse(JSON.stringify(V.value.categories.filter(K=>K.id===parseInt(d.category)&&K.status==="visible"&&K.serviceList.length&&!!ut(K,V.value).length))),we(()=>{let K=h.value.findIndex(ye=>ye.name==="CategoriesList");h.value.splice(K,1)})),u.value.service){l.commit("booking/setServiceId",parseInt(d.service));let K=l.getters["entities/getService"](parseInt(d.service));w.value=parseInt(d.category),l.commit("booking/setCategoryId",K?parseInt(K.categoryId):null),we(()=>{h.value=[],h.value.push(N)})}u.value.employee&&l.commit("booking/setEmployeeId",parseInt(d.employee)),u.value.location&&l.commit("booking/setLocationId",parseInt(d.location)),u.value.package&&(l.commit("booking/setPackageId",parseInt(d.package)),h.value=[],h.value.push(L)),u.value.show==="packages"?l.commit("booking/setBookableType","package"):l.commit("booking/setBookableType","appointment")}let Z=P(()=>ne.value?ya(l,u.value):null);Q("restoreFormData",Z),ot(ne,d=>{d&&(ae(),s.value=l.getters["entities/getServices"].length===0||l.getters["entities/getEmployees"].length===0,Z.value&&(me.value=l.state.booking.appointment.type,we(()=>{n.value=h.value.length-1,w.value=l.state.booking.appointment.categoryId})))});let q=P(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf:Ge.cbf);Q("customizedDataForm",q);const X=b(c.customizedData?c.customizedData.fonts:Ge.fonts);Q("amFonts",X);let W=P(()=>c.customizedData&&"cbf"in c.customizedData?c.customizedData.cbf.colors:Ge.cbf.colors);Q("amColors",W);let oe=P(()=>({"--am-c-primary":W.value.colorPrimary,"--am-c-success":W.value.colorSuccess,"--am-c-error":W.value.colorError,"--am-c-warning":W.value.colorWarning,"--am-c-main-bgr":W.value.colorMainBgr,"--am-c-main-heading-text":W.value.colorMainHeadingText,"--am-c-main-text":W.value.colorMainText,"--am-c-sb-bgr":W.value.colorSbBgr,"--am-c-sb-text":W.value.colorSbText,"--am-c-inp-bgr":W.value.colorInpBgr,"--am-c-inp-border":W.value.colorInpBorder,"--am-c-inp-text":W.value.colorInpText,"--am-c-inp-placeholder":W.value.colorInpPlaceHolder,"--am-c-drop-bgr":W.value.colorDropBgr,"--am-c-drop-text":W.value.colorDropText,"--am-c-card-bgr":W.value.colorCardBgr,"--am-c-card-text":W.value.colorCardText,"--am-c-card-border":W.value.colorCardBorder,"--am-c-btn-prim":W.value.colorBtnPrim,"--am-c-btn-prim-text":W.value.colorBtnPrimText,"--am-c-btn-sec":W.value.colorBtnSec,"--am-c-btn-sec-text":W.value.colorBtnSecText,"--am-c-skeleton-op20":Y(W.value.colorMainText,.2),"--am-c-skeleton-op60":Y(W.value.colorMainText,.6),"--am-font-family":X.value.fontFamily}));function $e(){let d=document.head||document.getElementsByTagName("head")[0];d.querySelector("#amCustomFont")&&d.querySelector("#amCustomFont").remove();let K=`@font-face {font-family: '${X.value.fontFamily}'; src: url(${X.value.fontUrl});}`,ye=document.createElement("style");d.appendChild(ye),ye.setAttribute("type","text/css"),ye.setAttribute("id","amCustomFont"),ye.appendChild(document.createTextNode(K))}X.value.customFontSelected&&$e();let ge=P(()=>({colorInputBorderRadius:"6px"}));return Q("amDesignProperties",ge),(d,K)=>(a(),i(ee,null,[X.value.customFontSelected?p("",!0):(a(),i(ee,{key:0},[Kn,eo,t("link",{rel:"stylesheet",type:"text/css",href:`${e(_).wpAmeliaPluginURL}v3/src/assets/scss/common/fonts/font.css`,media:"all"},null,8,to)],64)),t("div",{id:"amelia-container",ref_key:"ameliaContainer",ref:g,class:"am-fc__wrapper",style:_e(e(oe))},[e(ne)&&e(h).length?(a(),fe(Lt(e(h)[e(n)]),{key:0})):(a(),fe(Zn,{key:1}))],4)],64))}});var no=Object.freeze(Object.defineProperty({__proto__:null,default:io},Symbol.toStringTag,{value:"Module"}));export{no as C,kt as _,Da as a,wt as b,Qe as c,St as d};
